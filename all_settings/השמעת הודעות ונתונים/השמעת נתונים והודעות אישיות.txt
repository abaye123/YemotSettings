השמעת הודעות ונתונים למשתמש בהתאמה אישית
הסבר על המודול
במודול זה ניתן להשמיע למשתמשים הודעה אחת, או מספר הודעות ברצף.
השמעת ההודעות למשתמשים הינה בהתאמה אישית. כך שניתן להגדיר שמשתמש א' ישמע הודעה מסוימת ומשתמש ב' ישמע הודעה שונה.

הגדרת סוג שלוחה
type=id_list_message
שימו לב! הגדרה זו הינה חובה.

קישורים לתוספים שניתנים להגדרה בכל מודול
רשימת כל ההגדרות שניתנות להטמעה בכל מודול
הגדרות זיהוי בכניסה לשלוחה
במודול זה הכניסה עם זיהוי היא חובה (ברירת מחדל לפי טלפון)
הסבר על הודעת ברוכים הבאים (הודעה ראשונה בשלוחה)
הרשאות כניסה לשלוחה
הגדרות המודול
ההגדרות של המודול מתחלקות בין 2 קבצים.

הגדרות בקובץ ext.ini - בקובץ זה יש להגדיר את ההגדרות הגלובליות בשלוחה.
הגדרות בקובץ IdListMessage.ini- בקובץ זה יש להגדיר את ההודעות להשמעה.
 
הגדרת מיקום קובץ
הגדרה בקובץ ext.ini

ברירת מחדל מיקום הקובץ שבו ההגדרות להשמעה (קובץ IdListMessage.ini) צריך להיות בשלוחה הנוכחית.
ניתן להגדיר מיקום שונה
ההגדרה היא (לדוגמה)

id_list_message_file=/1
בדוגמה, מיקום הקובץ הוא בשלוחה 1 שתחת התפריט הראשי.

לתשומת לב קבצי השמע נלקחים מהשלוחה עצמה אא"כ תגדירו שיילקח משלוחה אחרת. ראה להלן.
 

הגדרת הודעות להשמעה
הגדרות בקובץ IdListMessage.ini

בקובץ זה יש לרשום את ההודעות להשמעה עבור כל משתמש.
ההגדרה עבור כל משתמש היא בשורה נפרדת וצריכה להיות בשורה אחת בלבד.

תחילה יש לרשום את מספר הזיהוי של המשתמש ולאחר מכן =
ניתן לציין default= למקרים בהם אין התייחסות ספציפית למספר הזיהוי של המשתמש.
לדוגמה,

0772222770=
0533137770=
default=
בדוגמה, המערכת תשמיע למשתמשים שמספר הזיהוי שלהם הוא 0772222770 ו-0533137770 הודעות בהתאם למה שהוגדר עבורם.
לשאר המשתמשים המערכת תשמיע את מה שהוגדר בשורה המתחילה ב-default

במידה ומספר הזיהוי של המשתמש לא מופיע בקובץ ולא הוגדר default, המערכת תשמיע למשתמש M1099 "אין הודעה להשמעה" והמשתמש ייצא מהשלוחה.
ברירת מחדל המשתמש חוזר לשלוחה אחת למעלה. ניתן להגדיר שהמשתמש יעבור לשלוחה אחרת
ההגדרה היא (בקובץ ext.ini)

id_list_message_no_message_goto=/1
בדוגמה, יעבור לשלוחה 1 שתחת השלוחה הראשית. ראה כאן את האפשרויות הניתנות להגדרה

אחרי ה= יש לציין את "סוג ההודעה" (ראה להלן בטבלה)
אחרי סוג ההודעה יש להפריד עם קו מפריד (?? -?? )
לאחר הקו המפריד יש לרשום את ההודעה להשמעה.

להשמעת רצף הודעות יש להפריד בין הודעה להודעה עם נקודה (?? .?? )
ראה דוגמאות להלן

 
 

סוגי ההשמעות הניתנות להגדרה
סוג	ערך להגדרה	הסבר
File	f	השמעת קובץ מתוך המערכת או מהמאגר הגלובלי
Digits	d	השמעת ספרות (לדוגמה 111 המערכת תשמיע "אחת אחת אחת")
Number	n	השמעת מספר (לדוגמה 111 המערכת תשמיע "מאה ואחת עשרה")
Alpha	a	השמעת אותיות (לדוגמה abc המערכת תשמיע "איי בי סי")
Text	t	הקראת טקסט. ראה כאן את ההגדרות למהירות וטון ההקראה ועוד
Speech	s	הקראת טקסט מתוך קובץ במערכת
music_on_hold	h	מוזיקה בהמתנה
date	date	השמעת תאריך לועזי (יש לכתוב את התאריך בפורמט dd/mm/yyyy)
dateH	dateH	השמעת תאריך עברי (יש לכתוב את התאריך הלועזי בפורמט dd/mm/yyyy)
zmanim	z	השמעה שעה לפי משתנה רצוי
system message	m	הודעת מערכת
go_to_folder	g	מעבר לשלוחה אחרת (לא ניתן לשרשר הודעות נוספות לאחר פקודה זו)
File
בערך זה יש לציין הקובץ להשמעה
האפשרויות הן

השמעת קובץ מתוך השלוחה הנוכחית
השמעת קובץ משלוחה אחרת במערכת
 
השמעת קובץ מתוך השלוחה הנוכחית
לדוגמה

f-error
בדוגמה, המערכת תשמיע את הקובץ error.wav שנמצא בשלוחה הנוכחית.
 
 

השמעת קובץ משלוחה אחרת במערכת
כדי להשמיע קובץ משלוחה אחרת במערכת, יש לציין את נתיב השלוחה ואחר כך את שם הקובץ המלא
כדי לציין נתיב שלוחה יש לרשום l- ולאחר מכן את נתיב השלוחה המלא. לאחר מכן יש להפריד עם נקודה ולרשום את שם הקובץ.
לדוגמה, כדי להשמיע את קובץ 000 שנמצא בשלוחה 1/1 יש לרשום את הנתיב כך.

l-/1/1.f-000
דוגמה נוספת (השמעת קובץ abc שבתיקיית def)

l-/def.f-abc
 
 
שימו לב! באפשרות זו בעת שמיעת הקובץ המשתמש יכול להקיש על כל מקש ולסיים את שמיעת הקובץ.
כדי לחסום את ההקשות יש להגדיר (הגדרה בקובץ ext.ini)

play_and_return=play_all
Digits
בערך זה יש לציין את הספרות להשמעה
לדוגמה

d-123
המערכת תשמיע "אחת שתיים שלוש"

Number
בערך זה יש לציין את המספר להשמעה
לדוגמה

n-123
המערכת תשמיע "מאה עשרים ושלוש"

Alpha
בערך זה יש לציין את האותיות להשמעה
לדוגמה

a-abc
המערכת תשמיע "איי בי סי"

Text
בערך זה יש לרשום את הטקסט להקראה
לדוגמה

t-שלום עולם
המערכת תשמיע "שלום עולם"
חשוב! לא להכניס בטקסט את התווים נקודה (?? .?? ) וקו מפריד (?? -?? ).

Speech
בערך זה יש לציין את שם הקובץ להקראה
לדוגמה

s-123
המערכת תקריא את קובץ 123.tts שנמצא בשלוחה הנוכחית

s-/8/123
המערכת תקריא את קובץ 123.tts שנמצא בשלוחה 8

music_on_hold
מומלץ לעבור על ההגדרות המופיעות בשרשור שלמוזיקה בהמתנה

הערכים הניתנים להגדרה

המוזיקה להשמעה - חובה
זמן (בשניות) לסיום המוזיקה - רשות
בין הערכים הניתנים להגדרה יש להפריד עם פסיק (?? ,?? )
לדוגמה

h-music_name,5
בדוגמה, המערכת תשמיע המוזיקה music_name למשך 5 שניות.
שימו לב! בכל מצב המשתמש יכול להקיש על * ולסיים את ההשמעה.

date
השמעת תאריך לועזי.
בערך זה יש לציין את התאריך להשמעה.
לדוגמה

date-01/01/2019
ברירת מחדל המערכת מקריאה את התאריך הלועזי עם שם החודש הלועזי, (בדוגמה לעיל יקריא "1 ינואר 2019").

ניתן להגדיר שבהשמעת התאריך המערכת תקריא את גם את שם החודש וגם את מספר החודש. ההגדרה היא (הגדרה בקובץ ext.ini)

id_list_message_date_say_month_number=yes
הקבצים שיושמעו לפני התאריך, בהשמעת תאריך לועזי, הם: (אם קיימים הקבצים - לא חובה)
קובץ עם בשם day יושמע הקובץ לפני היום, קובץ בשם month יושמע לפני החודש,
וקובץ בשם year יושמע לפני השנה.

dateH
השמעת תאריך עברי.
בערך זה יש לציין את התאריך להשמעה (רושמים תאריך לועזי, והמערכת ממירה לתאריך עברי).
לדוגמה

dateH-01/01/2019
בדוגמה לעיל יקריא "כד טבת תשעט".

הקבצים שיושמעו לפני התאריך, בהשמעת תאריך עברי, הם: (אם קיימים הקבצים - לא חובה)
קובץ עם בשם dayH , יושמע הקובץ לפני היום, וכן קובץ בשם monthH יושמע לפני החודש, וכן קובץ בשם yearH שיושמע לפני השנה.

zmanim
השמעת שעה לפי משתנה רצוי (למשל, לפי שקיעה או זריחה)
בערך זה יש לרשום את הזמן הרצוי ניתן לקבוע את הזמן לפי 4 משתנים שונים.
ההפרדה בין המשתנים השונים היא באמצעות פסיק (?? ,?? )
לדוגמה

z-var1,var2,var3,var4,var5
במשתנה הראשון יש לרשום את סוג הזמן הרצוי. למידע אודות סוגי הזמן הקיימים במערכת לחצו כאן.
במשתנה השני יש לרשום את אזור הזמן הרצוי. למידע אודות אזורי הזמן הקיימים במערכת לחצו כאן.
במשתנה השלישי ניתן לבחור האם להפחית מהזמן שצוין או להוסיף על הזמן.
כדי להוסיף זמן יש לרשום +
כדי להפחית זמן יש לרשום -
כדי לא לשנות את הזמן יש להשאיר ריק.
במידה ובחרתם במשתנה השלישי להפחית או להוסיף זמן, יש לציין במשתנה הרביעי את כמות הזמן הרצויה כדלהלן:
תחילה יש לציין את פונקציית הזמן. האפשרויות הן
Y - שנה
M - חודש
D - יום
H - שעה
m - דקה
S - שניה
s - אלפית שניה
לאחר מכן יש לרשום במספר את הכמות הרצויה.
למשל, עבור 20 דקות יש להגדיר m20 עבור 3 שעות יש לרשום H3. עבור יום אחד יש לרשום D1.
במשתנה החמישי ניתן לרשום האם המערכת תבצע הוספת זמן רק בשעון חורף או קיץ
כדי לבצע הוספת או הפחתת זמן בשעון חורף יש לרשום 0
כדי לבצע הוספת או הפחתת זמן בשעון קיץ יש לרשום 1
system message
בערך זה יש לרשום את מספר ההודעה להשמעה
לדוגמה

m-1001
ישמיע את ההודעה M1001

go_to_folder
בערך זה יש לרשום את השלוחה להעברה
לדוגמה

g-1
המשתמש יעבור לשלוחה 1 שמתחת לשלוחה הנוכחית

g-/1
המשתמש יעבור לשלוחה 1 שתחת השלוחה הראשית

דוגמאות
0772222770=f-/1/1/000
0533137770=f-57750730.f-57881001.a-www012@.d-5567.n-5123.t-אחד שתיים שלוש.t-Hello I speak English.s-012.g-/1/2/3
default=z-sunset,IL/Jerusalem,-,m20,1
הסבר

לזיהוי מספר
0772222770
ישמיע את קובץ 000 משלוחה/1/1

לזיהוי מספר
0533137770
ישמיע את קובץ
57750730.wav
ואח"כ את קובץ
57881001.wav
ואח"כ ישמיע בצורת אותיות באנגלית
"w" "w" "w" "0" "1" "2" "@"
ואח"כ ישמיע
"חמש חמש שש שבע"
ואח"כ ישמיע
"חמשת אלפים מאה עשרים ושלוש"
ואח"כ ישמיע
"אחד שתיים שלוש"
ואח"כ ישמיע
"Hello I speak English"
ואח"כ ישמיע את כל המלל המופיע בקובץ בשם "012.tts" הנמצא בתיקיה
ואח"כ יעבור לשלוחה /1/2/3

לשאר המשתמשים המערכת תשמיע את השעה שתואמת לזמן שצוין (20 דקות לפני השקיעה. אזור ירושלים - במידה ועכשיו שעון חורף, המערכת תשמיע את זמן השקיעה ממש ללא חישוב של 20 דקות מינוס)

מעבר בסיום
הערה: ההגדרות הבאות רלוונטיות רק למקרים בהם אין התייחסות בקובץ לאן להעביר את המשתמש

כברירת מחדל בסיום השמעת ההודעות, המערכת משמיעה M1005 "סוף הודעות" והמשתמש חוזר לשלוחה אחת למעלה.
ניתן להגדיר מעבר לשלוחה אחרת. ההגדרה היא (בקובץ ext.ini)

id_list_message_end_goto=/1
בדוגמה, יעבור לשלוחה 1 שתחת השלוחה הראשית. ראה כאן את האפשרויות הניתנות להגדרה

לוג פעולות
באם רוצים להגדיר רישום במידה ואין הודעה להשמעה, או מה הלקוח שמע, ודיווח על סיום ההשמעה יש להגדיר (בקובץ ext.ini)

id_list_message_save_log=yes
הלוג נשמר בקובץ IdListMessageLog.ini
דוגמא למופיע בקובץ

Folder-3.Phone-772715903.IdType-phone.ID-772715903.Date-2016-02-08.15:56:34.Log-Play-f-57750730.f-57881001.a-www012@.d-5567.n-5123.t-אחד שתיים שלוש.s-012.g-/1/2/3
Folder-3.Phone-772715903.IdType-phone.ID-772715903.Date-2016-02-08.15:56:51.Log-PlayEnd
 9  
אחרי שנתיים
ששמחה - זו הסיסמא  לפני 7 חודשים
הודעה בודדת לפי זיהוי אישי
type=id_message
יש להכניס קובץ שמע לשלוחה ששמו תואם למספר הזיהוי
לדוגמא בזיהוי טלפון 0548594142 שם הקובץ יהיה 0548594142.wav

בזיהוי לפי ת.ז. 0123456789 שם הקובץ יהיה 0123456789.wav

באם אין הודעה ישמיע קובץ M1099 - אין הודעה להשמעה.


