ב"ה

מודול של השמעת קבצים עם אפשרות של הכנסת מקשים / עניית תשובות תוך כדי

הבהרה: יתכן שמודול זה יהיה בתשלום בעתיד

למודול זה ישנם שתי שימושים עיקריים

שימוש ראשון :
למי שמעוניין לעשות שידור רדיו רציף וכדומה
פשוט מגדירים שעת התחלה
ושמים קבצים אחד אחרי השני
המערכת תשמיע את כולם כמו שידור חי,
כאשר המערכת מחשבת את הזמן של הקובץ העכשווי בהתאם לאורך הקבצים
ומשמיעה לכל מי שמתחבר בדיוק באותה נקודה.

שימוש שני:
קליקרים

ניתן להגדיר באיזה קבצים שאתם מעוניינים, שבקובץ זה יהיה ניתן "לקבל הקשות"
והמערכת בודקת האם המקש שהלקוח הקיש תואם למקש שהגדרתם לתשובה,
ובהתאם ייתן נקודות,
כמו כן המערכת מפעילה במצב זה מונה של "אלפיות שניה" מרגע שהתחיל קובץ שיכול לקבל את ההקשות ועד הזמן שהלקוח מקיש

בנוסף לשמירת הזמן עד למענה בכל תשובה, המערכת שומרת סיכום של כל הזמן מהתשובות הנכונות

כך שבסוף השידור, תוכלו לדעת מי צבר הכי הרבה נקודות, ובנוסף מי מתוכם גם עשה זאת בהכי פחות זמן, ותוכלו לדעת מי המנצח

הגדרת סוג השלוחה:

type=playfile_and_enter_digits_time
מודול הפעלת קבצים עם הכנסת מקשים לפי זמן
קישורים לתוספים שניתנים להגדרה בכל מודול
רשימת כל ההגדרות שניתנות להטמעה בכל מודול
הגדרות זיהוי בכניסה לשלוחה
במודול זה הכניסה לפי ID היא חובה. ברירת מחדל נכנס לפי טלפון - PHONE
הסבר על הודעת ברוכים הבאים (הודעה ראשונה בשלוחה)
הרשאות כניסה לשלוחה
playfile_and_enter_digits_time=2020-12-07-18-35-29
ערך חובה
זמן הפעלת תחילת השידור
זמן ההפעלה של קובץ 000
מכאן ואילך המערכת מחשבת לבד את הזמנים הבאים של הקבצים
הזמן המוגדר בדוגמא הוא
07/12/2020 בשעה 18:35:29

במודול הקבצים חייבים להיות עוקבים
כלומר
000.wav
001.wav
002.wav
אם אין קובץ עוקב המשמעות שהשידור הסתיים

הקובץ חייב להיות בפורמט wav הפורמט הרגיל של המערכת
(לא ניתן להפעיל כרגע קבצים מסוג tts)

בכל האפשרויות של מעבר לשלוחה אחרת ניתן להגדיר את כל האופציות המפורטות כאן כולל ניתוק.
במידה והלקוח מתחבר לפני הזמן
באם הזמן עד לשידור הינו פחות מ2 דקות - הלקוח מועבר ישר להמתנה
באם הזמן יותר גדול -
ברירת מחדל עובר לתפריט

התפריט המושמע הוא:
M1847 השידור יחל בעוד...
M1849 שעות
M1850 ו..
M1851 דקות
M1848 "להמתנה הקישו 1 ליציאה הקישו 2 או כוכבית

באם רוצים שלא ישמיע את התפריט אלא ילך ישר להמתנה (כאלו בחר 1 בתפריט ההמתנה)

playfile_and_enter_digits_time_wait_goto=wait_playfile
באם רוצים שלא ישמיע את התפריט אלא ילך לשלוחה אחרת ניתן להגדיר

playfile_and_enter_digits_time_wait_goto=/5/8
באם בחר המתנה עד לזמן השידור
הלקוח שומע מוזיקה בהמתנה

ברירת מחדל זה מוזיקה בהמתנה של ימות המשיח (ConfbridgeYemot)
אם ברצונכם לשנות ניתן לשנות בהתאם לסוגי מוזיקה בהמתנה הקיימים (במידת הצורך ניתן לפנות לשרות לקוחות להוסיף סוג מוזיקה בהמתנה)
ניתן להוסיף מוזיקה בהמתנה בצורה עצמאית ראה כאן

playfile_and_enter_digits_time_music_on_hold=שם המוזיקה בהמתנה שלכם
באם הלקוח בחר בתפריט ההמתנה (M1848) 2 כלומר ליציאה
או שבמהלך המוזיקה בהמתנה הקיש כוכבית ליציאה
ברירת מחדל חוזר לתיקיה אחת למעלה, ניתן להגדיר מעבר לכל שלוחה אחרת ראה כאן את האפשרויות להגדרה כולל ניתוק.

playfile_and_enter_digits_time_tfr_wait_goto=/5/8
במידה ולא הוגדר זמן לשידור, המערכת משמיעה
M1842 לא הוגדר זמן להפעלת השידור

ברירת מחדל חוזר לתיקיה אחת למעלה, ניתן להגדיר מעבר לכל שלוחה אחרת ראה כאן את האפשרויות להגדרה כולל ניתוק.

playfile_and_enter_digits_time_no_time_goto=/5/8
במידה ואין קובץ תקין להפעלת השידור המערכת משמיעה
M1843 אין קובץ להפעלת השידור

ברירת מחדל חוזר לתיקיה אחת למעלה, ניתן להגדיר מעבר לכל שלוחה אחרת ראה כאן את האפשרויות להגדרה כולל ניתוק.

playfile_and_enter_digits_time_no_file_goto=/5/8
הגדרת סוג קובץ בשידור
ברירת מחדל כל הקבצים הינם מסוג playfile
כלומר הינם השמעת קובץ בלבד
ניתן להגדיר קבצים מסוג הכנסת ספרות
יש ליצור קובץ בשלוחה בשם

PlayfileAndEnterDigitsTime.ini
בקובץ יש להגדיר את הקבצים בשלוחה שיהיו מסוג הכנסת ספרות בצורה הבאה (ראה דוגמאות להלן)

כל הגדרה עבור הקובץ צריכה להתחיל עם שם הקובץ (000 001 וכו') ולאחריו =
לדוגמה
000=
את הערכים הבאים יש להפריד בפסיק 👈 ,👉 .

הערך הראשון הוא enter_digits
הערך השני הוא המקש של התשובה הנכונה (1 2 וכדומה), ניתן לרשום 135 ואז הפרוש שהתשובה הנכונה זה או 1 או 3 או 5
הערך השלישי הוא סך הנקודות למי שעונה נכון.
הערך הרביעי הוא המקשים - אלו מקשים יהיה ניתן להקיש.
לדוגמה,

001=enter_digits,2,100,1234
003=enter_digits,4,60,123456
005=enter_digits,0,40,7890
007=enter_digits,8,100,1480
009=enter_digits,135,100,123456
בדוגמה, הקבצים 001 003 005 007 מוגדרים כאן מסוג הכנסת ספרות
בקובץ 001 המקש הנכון הוא 2, הנקודות למי שעונה נכון זה 100, ניתן להקיש על מקשים 1234
בקובץ 003 המקש הנכון הוא 4, הנקודות למי שעונה נכון זה 60, ניתן להקיש על מקשים 123456
בקובץ 005 המקש הנכון הוא 0, הנקודות למי שעונה נכון זה 40, ניתן להקיש על מקשים 7890
בקובץ 007 המקש הנכון הוא 8, הנקודות למי שעונה נכון זה 100, ניתן להקיש על מקשים 1480
בקובץ 009 המקשים הנכונים הם או 1 או 3 או 5 , הנקודות למי שעונה נכון זה 100, ניתן להקיש על מקשים 123456

במידה וערך הניקוד ריק - ברירת מחדל המערכת מוסיפה 10 נקודות

ברירת מחדל לאחר בחירת הלקוח על המקש המערכת מודיעה
M3759 המקש שהקשת הוא

לאחר מכן המערכת מוסיפה
M3763 תשובתך שגויה
M3760 תשובתך נכונה
לביטול ההודעות אלו ניתן להגדיר

enter_digits_say_answer=no
לאחר מכן במקרה שענה נכון המערכת מוסיפה
M3761 קיבלת
M3762 נקודות
לביטול ההודעות אלו ניתן להגדיר

enter_digits_say_point=no
במקרה של כישלון בקובץ ההגדרות ולא הוגדר תשובה נכונה המערכת מודיעה
M3769 לא הוגדר תשובה נכונה עבור שאלה זו

במקרה שלקוח מנסה לענות פעם שניה באותה שאלה
M3758 בחירתם כבר נקלטה

במקרה שלקוח הקיש מקש שלא באפשרויות של שאלה זו המערכת מודיעה,
M1224 בחירה לא חוקית
והמערכת מחזירה אותו לשידור, ויכול לבחור שוב
(כמובן שהזמן במונה שניות עד לעניית התשובה ממשיך)

ניתוק באמצע שידור
כאשר לקוח מנתק באמצע השידור
וחוזר כאשר השידור עדיין פעיל
המערכת טוענת את הנקודות שקיבל בשיחה הראשונה ואת הזמן של התשובות
ומחזירה אותו לנקודת השידור הנוכחית

המערכת תודיע לו :

M3780 המערכת טוענת את התשובות והנקודות מהשיחה הקודמת שלך בשידור זה

הקבצים וההגדרות הזמניות נמצאים בקובץ בשלוחה בשם
PlayfileAndEnterDigitsTimeMiddle.2020-12-06-23-58-00.ini
(הזמן זה הזמן שהגדרתם לתחילת השידור)
אין למחוק קובץ זה עד לאחר סיום השידור

הבהרה חשובה בנושא הניתוק
מי שמנתק באמצע ולא חזר לקו לפני סיום המשחק
יופיע בניקוד של מסיימי המשחק עם הערה שניתק באמצע השידור

באם התנתק וחזר לפני סוף המשחק, ונשאר עד סוף המשחק
יופיע במסיימי המשחק כרגיל

מי שנכנס מאוחר
והיה בסיום
יופיע במסיימי המשחק

סיום שידור
ברירת מחדל אין קשר בין הנקודות של הצבירה במודול לבין הנקודות הכלליות במערכת
בשביל שיוסיף נקודות במערכת עבור הציון במבחן, יש להגדיר:

playfile_and_enter_digits_time_add_to_point=yes
ברירת מחדל - מוסיף נקודות כמספר סך הציון שהוא קיבל.
כלומר אם הלקוח קיבל ציון 10 במבחן, יקבל 10 נקודות בצבירת הניקוד שיש בכלל המערכת.

ניתן להגדיר שיוסיף נקודות רק אם הציון המינימלי הוא:

playfile_and_enter_digits_time_add_to_point_min=50
בדוגמא כאן רק אם הציון הוא מעל 50, והלקוח קיבל ציון מעל 50 (לדוגמא 70), אז המאזין מקבל תוספת של 70 נקודות במערכת.
כמו"כ, אם הלקוח קיבל ציון 50 יקבל 50 נקודות במערכת, אם הלקוח קיבל ציון 49 יקבל 0 נקודות.

אם רוצים להגדיר שמי שעבר את הציון המינימלי יקבל מספר נקודות אחר, יש להגדיר:

playfile_and_enter_digits_time_add_to_point_min=50
playfile_and_enter_digits_time_add_to_point_amount=15
כאן רואים שמי שקיבל במבחן מעל 50 נקודות, יקבל 15 נקודות במערכת.

"ערך" לשמירת הניקוד
ברירת מחדל הערך שישמר בטבלת הניקוד יהיה
EnterDigits5/8-2020-12-06-23-58-00
כלומר שלוחה וכן הזמן של השידור
ניתן להגדיר שישמור על ערך אחר

playfile_and_enter_digits_time_add_to_point_log=כל ערך שתרצו
לאחר סיום השידור
הלקוח ישמע תפריט
M1845 השידור הסתיים כעת בהצלחה
M3765 סך הנקודות שצברת במהלך השידור

(במידה והגדיר צבירת נקודות)
M3768 הנקודות הצטרפו לניקוד הכללי שלך המערכת

M3766 סך הזמן בשניות בו עניתם על התשובות הנכונות
M3767 לשמיעה חוזרת הקש1 לסיום הקש 2

לביטול הודעות הניקוד בתפריט הסיום (M3765 M3768)
הגדירו

enter_digits_end_say_point=no
לביטול הודעות סך הזמן בתשובות הנכונות
M3766
הגדירו

enter_digits_end_say_time=no
במקרה שלקוח הקיש 2 לסיום המערכת מתקדמת לסיום בהצלחה.

במידה ומוגדר גם enter_digits_end_say_point=no וגם enter_digits_end_say_time=no
אז המערכת תשמיע רק את ההודעה
M1845 השידור הסתיים כעת בהצלחה
ותתקדם לסיום בהצלחה

סיום בהצלחה
ברירת מחדל המערכת משמיעה
M3764 הנכם מועברים להאזנה לשידור המוקלט, בשידור המוקלט לא ניתן לענות על התשובות שנשאלו בשידור
ומשמיעה שוב את השידור
המערכת מפעילה את הקבצים דרך מודול playfile
כאשר מתחילה מהנמוך לגבוה
כלומר מקובץ 000 לקבצים היותר גבוהים

ניתן להגדיר מעבר לכל שלוחה אחרת

playfile_and_enter_digits_time_success_goto=/5/8
במידה והלקוח מתחבר כאשר זמן של השידור כבר הסתיים
המערכת משמיעה
M1844 השידור הסתיים

M3764 הנכם מועברים להאזנה לשידור המוקלט, בשידור המוקלט לא ניתן לענות על התשובות שנשאלו בשידור
ומשמיעה שוב את השידור
המערכת מפעילה את הקבצים דרך מודול playfile
כאשר מתחילה מהנמוך לגבוה
כלומר מקובץ 000 לקבצים היותר גבוהים

ניתן להגדיר במקום מעבר לשמיעת השידור החוזר - שיעבור לכל שלוחה אחרת

playfile_and_enter_digits_time_end_goto=/5/8
כאשר לקוח יוצא באמצע השידור על ידי הקשת סולמית
(ניתן לצאת רק בקבצים מסוג השמעת קבצים ולא בקבצים מסוג הכנסת ספרות)
ברירת מחדל חוזר לתיקיה אחת למעלה, ניתן להגדיר מעבר לכל שלוחה אחרת

playfile_and_enter_digits_time_return_goto=/5/8
ברירת מחדל במהלך שידור כל המקשים לא פעילים למעט סולמית
ניתן להגדיר גם מעבר לשלוחה אחרת ע"י הקשה על מקש 1
(ניתן לצאת רק בקבצים מסוג השמעת קבצים ולא בקבצים מסוג הכנסת ספרות)

playfile_and_enter_digits_time_1_goto=/5/8
חסימת כפל נקודות
אחד מהלקוחות הגדולים שהשתמש במודול,
הביע בעיה,
הוא עושה "שידור חוזר" ומפעיל מחדש את הקבצים בשלוחה אחרת
(השתמש בהפניה לכל שלוחה בהתאם לזמנים)
כל ששידור ראשון לצורך הענין ב10 בבוקר ושידור שני בשלוחה אחרת ב12 בצהרים
אבל הבקשה היא שמי שכבר השתתף - סיים את השידור בפעם הראשונה, לא יוכל לשחק במשחק השני

לצורך כך ניתן להגדיר

playfile_and_enter_digits_time_block_double=/8/6/PlayfileAndEnterDigitsTimeLogOK.2020-12-09-15-04-00
הדוגמא כאן זה למצוא בשלוחה =/8/6/
את קובץ בשם

בעצם מגדירים קובץ מפורמט ymgr
רושמים את הנתיב המלא יחד עם השם המלא
למעט הסיומת שלא רושמים
PlayfileAndEnterDigitsTimeLogOK.2020-12-09-15-04-00
שזה הקובץ שנוצר משידור
ומצורף אליו זמן השידור

המערכת מחפשת בתוך הקובץ האם קיים שם הרצף
IdType#
EnterId#
(הערה חשובה: בעצם ניתן לפנות כאן לכל קובץ מסוג ymgr במערכת , שנשמר שם הזיהוי האישי, ותמיד התוצאה תהיה חיובית)

באם התשובה חיובית שהלקוח כבר מופיע בקובץ שחיפשנו בו
אז המערכת תודיע:
M3781 כבר השתתפת במשחק, בשידור תוכל להשתתף כמאזין, אבל לא כשחקן
את ההודעה הזאת ישמע גם באם ינסה לענות תשובה במהלך המחשק

למעט ההודעה, הלקוח ממתין לתחילת השידור ביחד עם כולם,
בסיום השידור יעבור אוטומטי לשידור החוזר (ללא שמיעת נקודות וזמן אישי במשחק זה, כי לא צבר בכלל שום נקודות וזמן)

דוחות html

בשלוחה נוצר קובץ ymgr שמומר לקובץ html
PlayfileAndEnterDigitsTimeLogOK.2020-12-06-23-58-00.ymgr
PlayfileAndEnterDigitsTimeLogOK.2020-12-06-23-58-00.html

המרת מלל ברירת מחדל
ניתן לשנות בקובץ בשם
PlayfileAndEnterDigitsTimeLogOK.ini
בשלוחה

