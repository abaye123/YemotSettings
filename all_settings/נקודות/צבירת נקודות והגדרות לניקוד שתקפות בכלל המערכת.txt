ב"ה

הניקוד במערכת - הסבר והגדרות
הסבר
הניקוד הינו פונקציה בסיסית במערכת המאפשרת למשתמשים לצבור נקודות בהתאם לקריטריונים שנקבעו על ידי מנהל המערכת ולהשתמש בנקודות במקומות המתאימים לכך.

דוגמאות לשימוש בניקוד
דוגמה א
מנהל מערכת המעוניין להגדיל דקות האזנה למערכת, יכול להגדיר שכל דקת האזנה במערכת תזכה את המאזין בנקודה. מאזינים שיצברו X נקודות יוכלו להיכנס לשלוחת הפרמיום

דוגמה ב
מוסד חינוכי המעוניין בהעשרה ופעילות לתלמידים, יכול להכניס לקו משחקי טריוויה וחידונים וליצור תחרות בין כיתות מי תענה נכון על התשובות ותצבור הכי הרבה נקודות.

דוגמה ג
במערכת המשמשת למכירות והזמנות ניתן להגדיר שכל הזמנה מזכה את הלקוח בX נקודות.
עם הנקודות הנצברות ניתן יהיה לבצע רכישות והזמנות.

כמובן שיש עוד שימושים שניתן לבצע עם הניקוד (הפירוט המלא במודולים הרלוונטיים).

להלן יפורטו המקומות בהם ניתן לצבור /להשתמש בניקוד במערכת וכן ההגדרות שקשורות באופן כללי לניקוד, הסבר מפורט על מנוע צבירת הניקוד, הסבר מסודר על דוחו"ת הניקוד
קישורים לשרשור זה

מניעת איפוס הניקוד.

זיהוי המשתמשים וצבירה גם לקבוצה.

הגבלות על צבירת ניקוד.

השמעת כמות הנקודות

הסבר למתקדמים על צבירת נקודות במערכת

הסבר על דוחו"ת הניקוד

פיצול דוחות ואיפוס ניקוד

 7  
אחרי שנה
ששמחה - זו הסיסמא  לפני חודשיים
רשימת המקומות שניתן לצבור בהם נקודות במערכת ו/או להשתמש בצבירת הנקודות
שם המודול	תיאור בקצרה	קישור
הוספת ניקוד בהתאם לאורך האזנה במערכת	ניתן להוסיף נקודות למשתמש על כל הזמן שהוא מאזין במערכת/ או בשלוחה מסויימת בתוך המערכת	ראה כאן
שלוחה ייעודית להוספת ניקוד	ניתן להגדיר שלוחה ייעודית שבה המאזין יצבור נקודות לפי הגדרה מראש או לפי בחירה. כמו"כ ניתן להגדיר 'הורדת ניקוד'	כאן
השמעת קבצים	ניתן להגדיר שעל כל קובץ שהמאזין ישמע בשלוחת השמעת קבצים הוא יקבל ניקוד בכמות שתגדירו	חפשו כאן 'ניקוד על האזנה'
הוספת ניקוד למשתמש אחר	ניתן להגדיר שמשתמשים יכולים להוסיף לחבריהם נקודות	כאן
הוספת/הורדת ניקוד ע"י מנהל	המנהל יוכל לשמוע את כמות הנקודות וכן להוסיף או להוריד נקודות למשתמש אחר ע"י הקשה של מספר הזיהוי של המשתמש	כאן
טרוויה	שאלות עם כמה אפשרויות תשובה כאשר השאלות יכולות להיות קבועות או מתחלפות יומית ועל כל תשובה נכונה המשתמש מקבל ניקוד	כאן
מודול מבחן		כאן
מבחן אמריקאי		כאן
קליקרים	שידור חי מדומה עם אפשרות להגדיר הקשות ותשובות נכונות - כמו בזמן אמת	כאן
קליקס	דומה לקליקרים רק שאין לזה זמן קבוע אלא כל זמן שנכנסים לשלוחה ניתן לצבור נקודות	כאן
קבלת נתונים	ניתן להגדיר שבכל רישום בקבלת נתונים יתווסף ללקוח ניקוד (קבוע או מערך שהקיש)	כאן
קבלת נתונים - תשלום בנקודות	ניתן להגדיר שעל כל רישום המצריך תשלום יהיה ניתן לשלם גם או רק בנקודות	כאן
מודול נקודות ללקוח על קניה, ודירוג בעל העסק		כאן
השמעת הנקודות שנצברו	ניתן להשמיע את הניקוד הכללי במערכת/ ניקוד על ערך מסויים או מספר ערכים / ניקוד קבוצתי / ניקוד של המשתתפים שקיבלו הכי הרבה נקודות	כאן
הוספת ניקוד מקובץ חיצוני	אם תרצו להוסיף נקודות למשתמש מסויים במחשב באופן ידני מבלי לחייג למערכת ניתן להגדיר זאת בקובץ ini המיוחד לכך	כאן
פילטר לפי כמות נקודות	ניתן להגדיר שמשתמש לא יוכל להיכנס לשלוחה אם יש לו יותר או פחות מכמות נקודות מסויימת, כמו"כ ניתן להגדיר מעבר לשלוחות לפי כמות הנקודות שיש למשתמש	כאן
 0  
ששמחה - זו הסיסמא  לפני חודשיים
מניעת איפוס הניקוד במערכות גדולות מומלץ להגדיר בקובץ ivr.ini הראשי.
לפני ההתחלה, אם המערכת שלכם היא מערכת גדולה שמיועדת לשימוש זמן רב, ובעיקר עם יש לכם הרבה מאזינים, בכדי שהניקוד לא יתאפס חובה להגדיר את ההגדרה הזו לפני שמתחילים לצבור נקודות במערכת. במידה ותגדירו אותה לאחמ"כ הנקודות שהיו לא יתחשבנו בחישוב החדש.
ההגדרה היא

points_total_split=yes
הבהרה חשובה: אין שום סיבה שלא להשתמש באפשרות הנ"ל במערכות קטנות, ולכן הגדרה זו מומלצת כל עוד לא התחלתם לצבור נקודות במערכת, וכאמור הכרחית במידה ויש במערכת הרבה משתמשים.

הסבר נוסף כאן

 0  
ששמחה - זו הסיסמא  לפני חודשיים
הזיהוי של המשתמשים
הנקודות ישמרו בברירת מחדל לפי טלפון.
ניתן להגדיר

enter_id_type=סוג הזיהוי שתבחרו
את סוגי הזיהוי האפשריים ניתן לראות כאן

צבירת הניקוד לקבוצה
אם רוצים שהנקודות ייצברו גם לקבוצה, יש להגדיר את ההגדרה הבאה

points_add_group=yes
(אם רוצים שכל הנקודות במערכת ייצברו גם לקבוצה, ניתן להגדירו בקובץ ivr הראשי).

(הגדרה זו גורמת בעצם שעל כל נקודה שתצברו בשלוחה (או בכל המערכת) ייצבר כנגדה נקודה לקבוצה).

ובנוסף יש להגדיר את הקבוצות.

בכדי להגדיר קבוצות יש להעלות קובץ בשם GroupNumbers.ini לשלוחה Points שתחת השלוחה הראשית, ובתוך הקובץ יש לשייך כל מספר זיהוי לקבוצה המתאימה.

313313131=יא 3
0773137770=ג 2
מספר זהות 313313131 שייך לכיתה יא 3
מספר טלפון 0773137770 שייך לכיתה ג 2
כמובן שתצטרכו להגדיר לפי סוג הזיוי שהגדרתם
(עדיף לכתוב את האותיות ללא גרש: ג, ולא ג')
טיפ: ניתן להשתמש במודול הזה כדי לתת למשתמשים לשייך את עצמם לקבוצה.

מי שלא יופיע בקובץ GroupNumbers.ini, לא יצטרפו הנקודות שלו לאף קבוצה, והמערכת תתעלם מההגדרה.
אם רוצים שלכל מי שלא רשום המערכת תשמיע הודעה כלשהיא, יש להעלות הודעה ולקרוא לה בשםNoGroupNumber
לשלוחה Points שתחת השלוחה הראשית.

(הערה חשובה: באם אתם מוסיפים את ההגדרה לאחר שהיה כבר צבירת נקודות במערכת, אז המערכת תוסיף את כל הנקודות שהמשתמש צבר בעבר גם לניקוד של הקבוצה, בפעם הבאה שהמשתמש הזה יקבל ניקוד (לאחר הוספת הגדרת הניקוד הקבוצתי), כלומר שניתן להוסיף את ההגדרה גם באמצע מבצע וכדו', והמערכת תזקף את כל הנקודות בפעם הראשונה שהמשתמש יקבל ניקוד באיזה שהוא מקום במערכת, על חשבון הקבוצה, לאחמ"כ המערכת תסמן את המשתמש הזה שהוא כבר הכניס את הנקודות שלו לקבוצה, ולא תוסיף אותו שוב.
המערכת מעדכנת את זה בקובץ שנקרא GroupNumbersOk.ini שתחת התיקייה Points שתחת השלוחה הראשית, בצורה הבאה

313313131=yes
כלומר למספר זהות 313313131 כבר עודכן הניקוד הישן לקבוצה.

כך שאם אינכם מעוניינים שהמערכת תוסיף את הניקוד הישן, אלא רק יצבור מעתה והילך, יש להגדיר את כל המשתמשים בקובץ הנ"ל ולסמן אותם כ yes.)

כמו"כ יש להיזהר שלא למחוק מהקובץ הזה, כי אם תמחקו שורה מסוימת, בפעם הבאה שהמאזין עם הקוד הזה ייכנס, המערכת תעדכן שוב את כל הנקודות הישנות שלו על הקבוצה...

 0  
ששמחה - זו הסיסמא  לפני חודשיים
הגבלה על צבירת הניקוד
הסבר: בברירת מחדל גם מי שצבר נקודות על שמיעת קובץ, או שאלה בטריוויה, יכול לצבור שוב נקודות על אותו קובץ ועל אותה שאלה עצמה שוב פעם. ניתן להגביל את צבירת הנקודות כך שאם מישהו צבר נקודות הוא לא יוכל לצבור שוב פעם נקודות.
יש לכך 3 רמות של הגבלה. לפני שהמערכת מוסיפה ניקוד מתבצעת בדיקה האם יש למשתמש הגבלה שמונעת ממנו לצבור עוד ניקוד.

האפשרויות להגבלה הם:

הגבלת צבירה כללית בכל המערכת.

הגבלת צבירה על ערך כללי - ערך כללי הוא ערך שכולל כמה אפשרויות של צבירה, אבל אינו מגביל צבירה כללית במערכת ויהיה ניתן לצבור ניקוד על ערכים שלא כלולים באותו ערך כדלהלן.
ברירת מחדל לערך כללי היא תיקיה, כלומר הוספת נקודות כללית על כל מה שצבר בתיקיה (לדוגמא: כמה קבצים באותה תיקייה, כמה שאלות במודול טריוויה וכדו')
ניתן לשנות את הערך הכללי לשמירה, ואז ניתן יהיה לשייך כמה תיקיות לערך אחד.
הסבר על שינוי הערך הכללי ראו בכל מודול הצובר ניקוד. חפשו: points_log .

הגבלת צבירה על ערך פרטי = הפעולה הספציפית שעליה לא יהיה ניתן לצבור שוב ניקוד. (ערך PointsVal)
(בהשמעת קבצים זה תיקיה+מספר הקובץ להשמעה. בשאלות טריוויה זה הערך של התיקיה + השאלה הספציפית.)

בכל אחת מההגדרות יש להגדיר גם עד מתי לא יהיה ניתן לצבור שוב ניקוד, ראה להלן את כל האפשרויות

הערכים להגבלה הם
1) הגבלה של ערך פרטי
כלומר ברגע שצבר על ערך פרטי - Val נקודות, לא יוכל לצבור עוד נקודות עד שיפוג התוקף.

multiple_points_not_until_points_val=10d
ההודעה שתושמע:
M1303 אי צבירת נקודות נוספות בתיקיה זו עדיין בתוקף

2) הגבלה של ערך כללי (ברירת מחדל תיקייה, ניתן לשנות ולצבור מכמה תיקיות על אותו ערך)

multiple_points_not_until_points_log=10d
בדוגמא כאן לא יוכלו לצבור על ערך זה עוד נקודות במשך 10 ימים

ההודעה שתושמע:
M1098 כבר קיבלתם ניקוד על ערך זה

3)הגבלה ברמה כללית כלומר לא משנה היכן במערכת קיבל נקודות לא יוכל לצבור עוד נקודות עד שיפוג התוקף.

multiple_points_not_until_points_total=10m
בדוגמא כאן לא יוכלו לצבור בכל המערכת עוד נקודות במשך 10 דקות

ההודעה שתושמע:
M1302 אי צבירת נקודות נוספות עדיין בתוקף

ערכים להגבלת זמן
הגדרה/ תו	= ל:
s	שניות
m	דקות (אות קטנה)
h	שעות
d	ימים
M	חודשים (אות גדולה)
2012-12-31	עד סוף תאריך..
2013-12-31 23:59:59	עד תאריך.. בשעה.. (לא נבדק אם עובד במודול הזה)
15:59:59	היום עד השעה..
thisweek	עד סוף השבוע
thishebmonth	עד סוף החודש העברי הנוכחי
23:59:59	עד סוף היום הנוכחי (חצות הלילה)
next-tzeis	כלומר בצאת הכוכבים הבא (לדוגמא, באם רוצים להשמיע פעם אחת למאזין את ספירת העומר, ויתכן שזה יהיה בסמיכות זמן וצריך להשמיע שוב).
none	ללא פג תוקף, כלומר הערך יישאר לתמיד.
 0  
ששמחה - זו הסיסמא  לפני חודשיים
השמעת כמות הנקודות
ברירת מחדל משמיע כל פעם את התוספת העכשווית.
ההודעות הם
M1177 ירדו לכם
M1017 התווספו לכם
M1014 נקודות

לביטול ניתן להגדיר

points_add_say=no
ברירת מחדל - לא שומעים כלום.
ניתן להעלות הודעה של הוספת ניקוד בקובץ M3929

ניתן להגדיר שהמערכת תשמיע את סיכום הנקודות שנצברו על הערך הכללי (ברירת מחדל תיקייה):

points_log_say=yes
ההודעות הם:
M1304 על ערך זה צברת
M1014 נקודות

אם יש מינוס, משמיע
M3931 מינוס

ניתן להגדיר שהמערכת תשמיע את סיכום הנקודות שנצברו על הערך הפרטי (שאלה או השמעה ספציפית):

points_val_say=yes
ההודעות הם:
M1301 בשלוחה זו צברת
M1014 נקודות

להשמעת כלל הנקודות שנצברו בכלל המערכת יש להגדיר:

points_total_say=yes
ההודעות הם:
M1013 עד היום צברת
M1014 נקודות

 0  
ששמחה - זו הסיסמא  לפני חודשיים
הסבר למתקדמים על הניקוד
איך נשמר הניקוד במערכת ? הניקוד נשמר בתייקית Points בקבצי ini
בכל פעולה שנעשית קבצי ה ini מתעדכנים לאותו משתמש שביצע את השינוי, וכן קבצי ה ymgr שמבוססים על קבצי ה ini

בפנים יש קבצי ini בשם
points_total - סך הנקודות הקיים לכל לקוח (מחולק לפי סוגי כניסה לניקוד)
points_log - כל הפעולות של הנקודות
points_not_multiple - רשימת הפעולות עליהם הלקוח לא יקבל כפל נקודות, בדרך כלל מוגבל עם זמן מקסמילי בו לא ניתן לצבור שוב את הנקודות.

בכל שמירה של הנקודות יש התייחסות לסוג הזיהוי שעליו נצברו הנקודות

לדוגמא: זיהוי 1111 מסוג digits צבר 20 נקודות בשלוחה 1,
המערכת תרשום בקובץ points_total.ini
digits-1111-points_total=20
digits-1111-Folder/1=20
digits-1111-Log1=20 
באם המשתמש יצבור שוב נקודות, הקובץ יתעדכן בהתאם לצבירה
לדוגמא אם המאזין יצבור עוד 41 נקודות בשלוחה 3 הקובץ יראה ככה

digits-1111-points_total=61
digits-1111-Folder/1=20
digits-1111-Log1=20
digits-1111-Folder/3=41
digits-1111-Log3=41
באם היה מוגדר הגבלה בכל שלשת הרמות ליום אחד וצבירת הנקודות הייתה ב 24/8/2022 בשעה 02:58:04 המערכת תרשום בקובץ points_not_multiple.ini (בתוך הסוגריים תאריך תפוגה. ראה כאן)
digits-1111-points_total-multiple_points_not_until(2022-08-25-02-58-04)=valid
digits-1111-Folder/1-multiple_points_not_until(2022-08-26-02-58-04)=valid
digits-1111-Log1-multiple_points_not_until(2022-08-27-02-58-04)=valid
חלוקה של הנתונים לקבצים נפרדים
ישנם מערכות עם הרבה משתמשים אשר משתמשים במגוון דברים לצבירת ניקוד, מה שגורם שהקבצים של points_total וכן points_not_multiple, נהיים עמוסים מאוד, עד שמגיעים לגבול ההגבלה המוגדרת המערכות של 10 מגה בייט, ואז המערכת מאפסת בצורה אוטומטי ומתחיל קובץ חדש (על הקובץ הישן נוסף הסימון + ונשאר בתיקייה עד לאיפוס הבא...), כמובן שזה גורם שמי שצבר ניקוד מתחיל מההתחלה, וכן בקובץ points_not_multiple, שבו רשומים בעצם כל ההגבלות של למי לא לתת נקודות עד ל... וכו', וכאשר הוא מתאפס, כמובן שכל ההגבלות אינם).

כאשר מגדירים את ההגדרה הבאה, המערכת לא מאחסנת את הנתונים בקובץ אחד כללי, אלא מחלקת אותם, בתיקיית Points ייווצר תיקייה בשם Split ובתוכו יהיו קבצים נפרדים לכל ערך, כלומר שבקובץ points_total יהיה רק סיכום כולל של כל צבירת הניקוד במערכת, וכן בקובץ points_not_multiple יהיה רק את ההגבלות ברמה כללית לכל המערכת.
כל שאר הסיכומים (לפי ערך, ולפי תיקייה וכו'), וכן כל שאר ההגבלות, יהיה בקבצים נפרדים, כלומר יווצר קובץ סיכום לכל תיקייה בנפרד, וכן לכל ערך בנפרד.
לכן כפי שכבר נכתב כאן מומלץ להגדיר

points_total_split=yes
במקום שכל הדו"ח ישמר בתוך קובץ אחד תתבצע חלוקה של השמירה
השורה digits-1111-points_total=61 |תשמר בקובץ points_total.ini
השורה digits-1111-Folder/1=20 | תשמר בקובץ points_total-Folder-1.ini
השורה digits-1111-Log1=20| תשמר בקובץ points_total-Log1.ini
וכן ההגבלות ירשמו ב3 קבצים נפרדים, כאשר לכל ערך ישנו קובץ נפרד

דוגמא לא מומלצת לשימוש
אם אני ישנה בקובץ points_total.ini את כמות הנקודות של הלקוח (בפעם הבאה שהמשתמש הספציפי יצבור נקודות) המערכת תעדכן את קובץ ה ymgr בהתאם
למה זה לא מומלץ? מכיון שהמערכת מעדכנת באון ליין את קובץ ה ini ואם תבצעו שמירה באתר זה ישבש את שמירת הנתונים בקובץ. (לוקח למערכת זמן עד שהשינויים מוצגים באתר בקובץ ה ini)
כמו"כ אם לא תהיה התאמה בין הקבצים זה יכול ליצור בעיות

שימו לב שכאשר מגדירים את ההגדרה הזו קובץ points_total.ymgr ישמר גם בתוך תיקיית Split שבתוך תיקיית Points

 0  
אחרי 8 ימים
ששמחה - זו הסיסמא  לפני חודשיים
דוחות הניקוד
לפוסט הישן כאן
סיכום כלל הנקודות לכל משתמש
המערכת רושמת סיכום כללי בתוך קובץ מסודר שבו יש שורה אחת עבור כל משתמש ובו הסיכום הכללי של הנקודות.

הקובץ המקורי נשמר תחת תיקיית Points בקובץ points_total.ymgr .
באם הגדרתם points_total_split=yes הקובץ ישמר בתוך תיקיית Split שבתוך תיקיית Points.

ניתן להזמין קובץ במייל, ואז תקבלו מייל עם הקבצים של הלוג ושל הסיכום בתצוגת html יפה
הזמנה במייל דרך הניהול, שלוחה 4 (סיכום דקות) לבחור 2 (סיכום מלא) ושם לבחור 3 (סיכום פעולות ונקודות)

דו"ח פעולות בניקוד
מלבד זאת ישמר קובץ שבו יש שורה אחת על כל פעולה של הניקוד, בקובץ ישמר מלבד הפרטים של המשתמש והמערכת גם שם הערך הפרטי, שם הערך הכללי, סיכום הנקודות של המשתמש עד לפעולה הנוכחית ב3 רמות

סיכום נקודות על הערך הפרטי (points_val).
סיכום הנקודות על הערך הכללי (points_log).
סיכום נקודות כללי של המשתמש במערכת (עד לזמן ביצוע הפעולה).
קובץ זה מתחדש בכל חודש באופן אוטומטי והוא נמצא תחת תיקיית Points.
שם הקובץ הוא points_log.שנה-חודש.ymgr לדוגמא points_log.2022-08.ymgr
פיצול דוחות ואיפוס ניקוד
הסבר: ברירת המחדל היא שהניקוד שהמשתמשים צוברים במערכת הוא קבוע.
באפשרות זו ניתן להגדיר שהניקוד שנצבר יהיה לזמן מסוים שלאחריו המערכת תאפס את הנקודות שהמשתמשים צברו.
במקביל, הדוחות במערכת יתפצלו בהתאם לזמן שהוגדר וכדלהלן

ההגדרה היא

points_total_file_type=כאן יש לרשום את הזמן הרצוי
האפשרויות הן:

יומי
שבועי
חודשי
שנתי
 
עבור פיצול דוחות ואיפוס ניקוד כל יום יש להגדיר

points_total_file_type=day
שימו לב! ברירת המחדל היא שהיום מתחלף בסוף היום (בשעה 23:59)
ניתן להגדיר שהיום יתחלף מוקדם יותר
ההגדרה היא (לדוגמה)

points_total_file_type=day.15:23
בדוגמה, היום יתחלף לאחר השעה 15:23
 
 

עבור פיצול דוחות ואיפוס ניקוד כל שבוע יש להגדיר

points_total_file_type=week
שימו לב! ברירת המחדל היא שהשבוע מתחלף בסוף שבוע (בשבת בשעה 23:59)
ניתן להגדיר שהשבוע יתחלף מוקדם יותר
ההגדרה היא (לדוגמה)

points_total_file_type=week.5
points_total_file_type=week.5.19:59
בדוגמה הראשונה השבוע יתחלף ביום חמישי
בדוגמה השנייה השבוע יתחלף ביום חמישי בשעה 19:59
 
 

עבור פיצול דוחות ואיפוס ניקוד כל חודש יש להגדיר

points_total_file_type=month
שימו לב! ברירת המחדל היא שהחודש מתחלף בסוף החודש (בדרך כלל ביום 30 או 31)
ניתן להגדיר שהחודש יתחלף מוקדם יותר
ההגדרה היא (לדוגמה)

points_total_file_type=month.25
points_total_file_type=month.25.19:59
בדוגמה הראשונה החודש יתחלף ביום ה-25
בדוגמה השנייה החודש יתחלף ביום ה-25 בשעה 19:59
 
 

עבור פיצול דוחות ואיפוס ניקוד כל שנה יש להגדיר

points_total_file_type=year
שימו לב! ברירת המחדל היא שהשנה מתחלפת בסוף השנה (ב-31 לדצמבר בשעה 23:59)
ניתן להגדיר שהשנה תתחלף מוקדם יותר
ההגדרה היא (לדוגמה)

points_total_file_type=year.30/11
points_total_file_type=year.30/11.19:59
בדוגמה הראשונה השנה תתחלף בתאריך 30/11
בדוגמה השנייה השנה תתחלף בתאריך 30/11 בשעה 19:59

הערה
שימו לב כי קובץ points_total.ymgr משתנה בהתאמה בהתאם לזמן שהוגדר להתחיל מחדש

לדוגמא באם שם הקובץ של הנקודות הוא
points_total-2022-03.ini
אז במקביל קובץ הדוח יהיה
points_total-2022-03.ymgr

במידה ומוגדר points_total_split=yes (ראה כאן בתחתית הפוסט)
אז הקבצים יהיו בתוך תיקיית Split שבתוך תיקיית Points שמתחת לתיקיה הראשית

בהצלחה

