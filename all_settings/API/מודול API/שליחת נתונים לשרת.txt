שליחת נתונים לשרת
את סוגי הנתונים שנשלחים לשרת ניתן לחלק ל-3 חלקים

פרמטרים וערכים קבועים שנשלחים לשרת
פרמטרים עם ערכים של פרטי השיחה
הנתונים שהתקבלו מהמשתמש
שימו לב! כל הנתונים הנשלחים לשרת הינם רשות, כך שאין חובה להגדיר את כל סוגי הנתונים לשליחה.
למידע נוסף ראה בהרחבה להלן

פרמטרים קבועים שנשלחים לשרת
ניתן להגדיר שבכל פנייה, המערכת תצרף פרמטרים קבועים שיישלחו לשרת.

(הערה: לא ניתן לצרף פרמטרים הנשלחים כברירת מחדל (ראה להלן "פרמטרים עם פרטי השיחה"))
לדוגמה אם ברצונכם שבכל פנייה לשרת המערכת תצרף את הפרמטרים p1=v1 p2=v2 יש להגדיר בהגדרות השלוחה

api_add_0=p1=v1
api_add_1=p2=v2
במקרה כזה הבקשה ב-GET תראה כך

https://example.com/YemotApi?p1=v1&p2=v2
כמובן שניתן לצרף פרמטרים נוספים (api_add_X=), כשבמקום X יש לרשום את מספר הפרמטר.
שימו לב שחשוב לשמור על רצף סידורי החל מהספרה 0.

פרמטרים עם פרטי השיחה
כברירת מחדל בכל פנייה הנשלחת לשרת המערכת מצרפת פרמטרים עם ערכים של פרטי השיחה הנוכחית
הפרמטרים הנשלחים הם

ApiCallId=מזהה ייחודי לאורך השיחה
ApiPhone=מספר הטלפון של המשתמש
ApiDID= מספר טלפון הראשי של המערכת שלכם
ApiRealDID=המספר אליו חייג המשתמש.
במידה ויש כמה מספרים למערכת שלכם, והלקוח צלצל למספר משנה, הערך הזה יהיה שונה מהערך הקודם
ApiExtension=שם התיקייה/שלוחה בה נמצא המשתמש
ApiEnterID=במידה ובוצעה התחברות לפי זיהוי אישי, יצורף ערך זה המכיל את סוג ההתחברות וה-ID של המשתמש (מידע נוסף כאן)
ApiEnterIDName= שם משויך לזיהוי האישי (כפי שמוסבר בערך של login_add_val_name=yes כאן)
אם אין שם, הערך לא יצורף.
ApiTime= זמן בשניות מ1970, Epoch, i.e., since 1970-01-01 00:00:00 UTC.
כדי לבטל את שליחת הפרמטרים הנ"ל או את חלקם יש להגדיר (בהתאמה)

api_call_id_send=no
api_phone_send=no
api_did_send=no
api_extension_send=no
api_enter_id_send=no
api_enter_id_name_send=no
api_time_send=no
קבלת נתונים מהמשתמש
הערה: ההגדרות המופיעות כאן הן עבור קבלת נתונים מהמשתמש לפני הפנייה לשרת. עבור קבלת נתונים מהמשתמש לאחר תשובת השרת ראה בהמשך השרשור הגדרות עבור read

ניתן להגדיר שהמערכת תבקש פרטים נוספים מהמשתמש שיצורפו לפנייה שנשלחת לשרת.
הנתונים שאפשר לקבל הם הקשה (לדוגמה "אנא הקישו את תז הזהות שלכם") והקלטה (לדוגמה "אנא הקליטו את כתובת המגורים שלכם")

לצורך כך יש לפעול לפי השלבים הבאים

שלב א
יש להעלות קובץ שמע לשלוחה עם השאלה שברצונכם להשמיע
סוג הקובץ יכול להיות בפורמט wav ogg עבור קבצי שמע או קובץ tts עבור הקראת טקסט (text to speech)

(הגדרות גלובליות עבור מנוע הקראת טקסט)
שמות הקבצים צריכים להיות ממוספרים במספר סידורי רציף החל מ-000.
סדר השמעת השאלות הוא מהקובץ הקטן לגדול (000 001 002 וכן הלאה).

שלב ב
יש להגדיר בהגדרות השלוחה את סוג השאלה (הקשה, הקלטה) והגדרות נוספות (שם הערך שיצורף ועוד)
ההגדרה עבור כל קובץ צריכה להתחיל כך

api_000=
בדוגמה, הגדרות עבור קובץ 000.
בהמשך השורה יש לציין את הערכים להגדרה כאשר בין ערך לערך יש להפריד עם פסיק ?? , ??
במידה וברצונכם להשאיר את ברירת המחדל יש להשאיר את הערך ריק (כלומר ,,)

הגדרות לדוגמה (ראה להלן בהרחבה)

api_000=ID,yes,5,4,50,Number,yes,no,*/,
api_001=ZIP,yes,8,4,7,Number,yes,yes,*/
api_002=AAA,yes,1,1,7,Number,yes,yes,*/,*#123456
api_003=BBB,yes,2,2,7,Number,yes,yes,*/,11.12.13.14,3,Ok,null
api_004=CCC,yes,voice
api_005=DDD,yes,voice,en-US,no
api_006=EEE,yes,voice,en-US,,30
api_007=ZAW,yes,record,/1/2,file_name,no,yes,yes
api_008=FFF,,voice,,,,record,6,9
הסבר על הערכים
הערך הראשון
בערך זה יש להגדיר את שם הפרמטר שיצורף לנתון שהתקבל
בדוגמה לעיל ניתן לראות ששם הפרמטר שצורף לנתון שהתקבל בקובץ 000 הוא ID ושם הפרמטר שצורף לנתון שהתקבל בקובץ 001 הוא ZIP

הערך השני
במידה וכבר קיבלת את הערך שמופיע בערך הראשון; לדוגמה המשתמש כבר הקיש את תעודת הזהות שלו בשיחה הנוכחית בשלב קודם, האם להשתמש במה שקיים במערכת או לא להשתמש ולקבל מחדש.
ברירת מחדל המערכת תקבל מחדש, במידה ומוגדר yes (כמו בדוגמאות 000-007) המערכת תשתמש במה שהלקוח הקיש מקודם ותצרף אותו לסטרינג של השליחה

הערך השלישי
בערך זה ניתן לקבוע את סוג הנתון שיילקח מהמשתמש
האפשרויות הן

הקשה
הקלטה לשמירה במערכת
הקלטה שתתמולל לטקסט שיישלח לשרת
כברירת מחדל סוג הנתון מוגדר להקשה
כדי להגדיר את סוג הנתון להקלטה שתישמר במערכת יש לכתוב record (כמו בדוגמה 007 למעלה)
כדי להגדיר את סוג הנתון להקלטה שתתומלל לטקסט שיישלח לשרת יש לכתוב voice (כמו בדוגמאות 004-006 למעלה)

שימו לב! הערכים הבאים הניתנים להגדרה (הערך הרביעי והלאה) משתנים בהתאם לסוג הנתון שהוגדר בערך השלישי. ולכן בהגדרות שיובאו להלן תהיה אבחנה בין סוגי הנתונים
 

הגדרות עבור הקשות
הערך השלישי (הקשה)
בערך זה ניתן לקבוע את כמות הספרות המקסימלית שהמשתמש יוכל להקיש
ברירת המחדל היא ללא הגבלה. כדי להגדיר כמות מקסימלית, יש לרשום את המספר הרצוי
(בדוגמה 000 למעלה ניתן לראות שהמקסימום הוא 5)

הערך הרביעי (הקשה)
בערך זה ניתן לקבוע את כמות הספרות המינימלית שהמשתמש יוכל להקיש
ברירת המחדל היא 1. כדי להגדיר כמות שונה יש לרשום את המספר הרצוי
(בדוגמה 000 למעלה ניתן לראות שהמינימום הוא 4)
במידה והמשתמש לא הקיש את כמות הספרות הנדרשת המערכת תשמיע M1035 "לא הקשתם את מינימום הספרות הנדרשות" והמשתמש יעבור להקשה מחדש של הנתון.

הערך החמישי (הקשה)
בערך זה ניתן להגדיר את אורך הזמן שהמערכת תמתין להקשת המשתמש
ברירת המחדל היא 7 שניות. ניתן להגדיר זמן המתנה שונה.
(בדוגמה 000 למעלה ניתן לראות שזמן ההמתנה שהוגדר הוא 50 שניות)
(ראה בנוסף ערכים 11 ו-12 להלן)

הערך השישי (הקשה)
בערך זה ניתן להגדיר באיזה צורה להשמיע למשתמש את מה שהוקש
מצ"ב טבלה

ההגדרה	פירוט
No	לא ישמיע את מה שהוקש כלל
Number	משמיע את מה שהוקש בצורת מספר כלומר 22 יהיה "עשרים ושתים"
Digits	משמיע את מה שהוקש בצורת ספרות כלומר 22 המערכת תשמיע "שתים שתים"
Price	משמיע את מה שהוקש בצורת מחיר. לדוגמה: במידה והמשתמש הקיש 53 המערכת תשמיע "חמישים ושלוש שקלים". דוגמא נוספת: במידה והמשתמש הקיש הקיש 53 כוכבית 23, המערכת תשמיע "חמישים ושלוש שקלים ועשרים ושלוש אגורות". כמו כן בסטרינג שיישלח לשרת יופיע 53.23 (כלומר המערכת מחליפה את מקש הכוכבית בנקודה). הודעות המערכת הם:M1907 "שקלים" M1908 "ו.." M1909 "אגורות"
Time	משמיע את מה שהוקש בצורת שעה. כלומר 2359 המערכת תשמיע "עשרים ושלוש חמישים ותשע" (יש צורך להגדיר מינימום ומקסימום 4 ספרות)
Date	משמיע את ההקשה בצורת תאריך. כלומר 10122019 המערכת תשמיע "עשר דצמבר אלפיים ותשע עשרה" (יש צורך להגדיר מינימום ומקסימום 8 ספרות)
HebrewDate	משמיע את מה שהוקש בצורת תאריך עברי. כלומר 23125779 המערכת תשמיע "כ"ט אלול תשע"ט" (יש צורך להגדיר מינימום ומקסימום 8 ספרות)
TeudatZehut	ייתן להקיש תעודת זהות תקינה בלבד. המערכת תשמיע את ההקשה בצורת ספרות (יש צורך להגדיר מינימום 8 ספרות ומקסימום 9 ספרות)
Phone	ייתן להקיש רק מספר טלפון ישראלי תקין. המערכת תשמיע את ההקשה בצורת ספרות (יש צורך להגדיר מינימום 9 ספרות ומקסימום 10 ספרות). ראה עוד בערך החמש עשרה והשש עשרה
Alpha	בצורת אותיות, במקרה של הקשה טלפונית של ספרות זה ישמע כמו הקשת ספרות, במידה ויש אותיות כמו abc אז ישמעו את האותיות אחת אחרי השניה
HebrewKeyboard	המערכת תעביר את המשתמש להקלדה במקלדת עברית ובסיום ההקלדה תשמיע את מה שהוקלד במילים או באותיות. למידע אודות אפשרויות ההקשה במקלדת לחץ כאן (ראה בנוסף הערך ה14 להלן)
EnglishKeyboard	המערכת תעביר את המשתמש להקלדה במקלדת אנגלית ובסיום ההקלדה תשמיע את מה שהוקלד במילים או באותיות. למידע אודות אפשרויות ההקשה במקלדת לחץ כאן (ראה בנוסף הערך ה14 להלן)
EmailKeyboard	המערכת תעביר את המשתמש להקלדה במקלדת אנגלית מותאמת למייל (ללא סימן שאלה וסימן קריאה, וכן בהקשת שטורדל עזרה בהשלמת הספק) בסיום ההקלדה תשמיע את מה שהוקלד במילים או באותיות. למידע אודות אפשרויות ההקשה במקלדת לחץ כאן (ראה בנוסף הערך ה14 להלן)
DigitsKeyboard	המערכת תעביר את המשתמש להקלדה במקלדת ספרות כאשר המערכת תשמיע כל הקשה בצורה מיידית בהתאם למקשים שהוקשו. למידע אודות אפשרויות ההקשה במקלדת לחץ כאן. הערה חשובה במצב זה אין הגבלה של מינימום או מקסימום, והערכים של ההגבלה לא פעילים, מעלת מקלדת ספרות זה השמעת כל ספרה מיידית ללקוח. (ראה בנוסף הערך ה14 להלן)
File	משמיע למשתמש קובץ שמע בהתאם למה שהוקש. ראה להלן
TTS	משמיע למשתמש טקסט בהקראה ממוחשבת בהתאם למה שהוקש ראה להלן
File
לדוגמה - אם המשתמש הקיש 1 ישמע "מלפפון" ואם הקיש 2 ישמע "עגבנייה"
כדי שהמערכת תדע איזה קובץ להשמיע, יש לפתוח בתוך השלוחה תיקייה כשם השאלה (לדוגמה אם השאלה היא 000 יש לפתוח תיקייה בשם 000) ובתוך התיקייה להכניס את קבצי השמע שרוצים שישמיע. (לדוגמה, למשתמש שהקיש 0 המערכת תשמיע את קובץ 000, למשתמש שהקיש 256 המערכת תשמיע את קובץ 256)

במידה ואין קובץ להשמעה המערכת תשמיע את מה שהוקש בצורת ספרות (Digits)
ניתן להגדיר שאם אין קובץ תואם להקשה אז שהמערכת תשמיע M1224 "בחירה לא חוקית" והמשתמש יעבור להקשה מחודשת של הנתון.
לצורך כך יש להגדיר בערך העשירי from_folder

TTS
משמיע למשתמש טקסט בהקראה ממוחשבת בהתאם למה שהוקש.
כדי שהמערכת תדע איזה טקסט להשמיע יש ליצור קובץ בשלוחה כשם השאלה. (לדוגמה, עבור שאלה 000 יש ליצור קובץ בשם 000-SayTTS.ini) הסבר על אופן יצירת הקובץ כאן
בתוך הקובץ יש להכניס את הטקסט להקראה בצורה הבאה.

111=מלפפון
112=עגבניות
113=גמבה
כלומר, מי שהקיש 111 ישמע "מלפפון" ומי שהקיש 112 ישמע "עגבניות".
במידה ואין טקסט מוגדר להשמעה המערכת תשמיע את מה שהוקש בצורת ספרות (Digits)
שימו לב, תיתכן אפשרות שאם קובץ השאלה (000 וכו') יהיה קובץ TTS, המערכת לא תקריא את הכתוב בקובץ TTS

הערך השביעי (הקשה)
ברירת מחדל המשתמש יכול להקיש על מקש *
כדי לחסום את מקש כוכבית יש להגדיר בערך זה yes
במקרה כזה במידה והמשתמש הקיש כוכבית המערכת תשמיע M1368 "לא ניתן להקיש מקש כוכבית" והמשתמש יעבור להקשה מחודשת של הנתון

הערך השמיני (הקשה)
האם הכמות של ההקשה יכולה להיות אפס
ברירת מחדל כמות יכולה להיות אפס. באם רוצים לחסום את זה (לדוגמה בכמות שקלים לתרומה שלא יהיה ניתן לתרום אפס) יש להגדיר yes בשביל לחסום את מקש אפס.
במקרה כזה במידה והכמות שהמשתמש הקיש עומדת על 0 המערכת תשמיע M1625 "הכמות לא יכולה להיות אפס" והמשתמש יעבור להקשה מחודשת של הנתון

הערך התשיעי (הקשה)
החלפת מקש בכל סימן אחר
לדוגמה במידה ואתם רוצים שישלח כתובת ספריה כאשר המפריד בין התיקיות זה /
בטלפון לא ניתן להקיש סלש
אבל ניתן לבקש מהלקוח להקיש כוכבית בין תיקייה לתיקייה
ולסמן להחליף את הכוכבית בסלש

ערך זה יכול להכיל 2 סימנים
הסימן הראשון את איזה ערך להחליף
הסימן השני זה מה לשים במקום מה שהוחלף

בדוגמה למעלה (000) מופיע
*/
כלומר להחליף את מקש כוכבית בסלש

הערך העשירי (הקשה)
בדוגמאות למעלה בקבצים 000 ו-001 הערך ריק
בקובץ 002 מופיע *#123456
בקובץ 003 מופיע 11.12.13.14

בערך העשירי ניתן להגדיר איזה מקשים המשתמש יוכל להקיש
באם המשתמש יקיש מקש שלא מוגדר אז המערכת תודיע
M1224 "בחירה לא חוקית"
ברירת מחדל המשתמש יכול להקיש על כל המקשים ולכן אם הערך ריק - אז ניתן להקיש הכל

אם מדובר על הקשה של מינימום ומקסימום ספרה אחת (ערכים שלוש וארבע) אז ניתן לרשום את כל הספרות המורשות ברצף
שימו לב שבדוגמה של קובץ 002 מופיע מינימום ומקסימום ספרה אחת ומוגדר שניתן להקיש *#123456 כלומר את כל הספרות למעט 789 שאם יקיש אותם אז המערכת תודיע שהבחירה לא חוקית

אם מדובר על הקשה שמעל ספרה אחת, אז ניתן להפריד בין הערכים המותרים עם נקודה.
שימו לב שבדוגמא של קובץ 003 המינימום והמקסימום הם 2 ספרות,
ומוגדר שהמשתמש יכול לבחור רק 11 או 12 או 13 או 14 (11.12.13.14)

הערך האחד עשר (הקשה)
ברירת מחדל במידה והמשתמש לא הקיש כלום ועבר הזמן שהוגדר להקשה (בערך החמישי) אז הנתון שהמערכת קולטת הוא ריק.
כמות הפעמים שהמערכת משמיעה את השאלה לפני שהיא מגדירה את הנתון כ"ריק" הוא פעם אחת
בערך זה ניתן להגדיר כמות פעמים שונה.
בדוגמה למעלה בקובץ 003 מוגדר שכמות הפעמים שהמערכת תשמיע את השאלה לפני שהיא מגדירה את הנתון כ"ריק" היא 3 פעמים.

הערך השנים עשר (הקשה)
ברירת מחדל, במידה והנתון שהתקבל הוא "ריק" (ראה ערך 11) המערכת משמיעה M1002 "לא הוקשה בחירה" והמשתמש עובר להקשה מחודשת של הנתון.
ניתן להגדיר שאם הנתון הוא ריק המערכת תתקדם הלאה. ההגדרה היא Ok.

הערך השלושה עשר (הקשה)
במידה והגדרתם בערך ה-12 שניתן להכניס נתון ריק
ברירת מחדל מה שנשלח לשרת תחת הערך של השאלה הוא None. בערך זה ניתן להגדיר טקסט שונה.
(בדוגמה למעלה בקובץ 003, מה שנשלח לשרת זה null)

הערך הארבעה עשר (הקשה)
במידה והגדרתם בערך ה-6 מצב מקלדת (עברית / אנגלית / מקלדת מייל /מקלדת ספרות)
ברירת מחדל המשתמש יכול בתפריט סיום או ביטול (במקש כוכבית) לשנות את המקלדת למקלדת מסוג שונה.
אם ברצונכם שהמשתמש לא יוכל לשנות את השפה שהגדרתם יש להגדיר InsertLettersTypeChangeNo.
במקרה כזה במידה והמשתמש מנסה לשנות שפה המערכת תשמיע M4186 "שינוי שפת הקלדה חסום בכתיבה זו"

כללי (הקשה)

השמעת קובץ בהתאם לנתון שהתקבל
ניתן להגדיר שבמידה והתקבל נתון מסוים המערכת תשמיע למשתמש קובץ מסוים ובסיום ההשמעה המשתמש יעבור להקשה מחודשת של הנתון
הגדרה לדוגמה

api_002_key_2_say=100
בדוגמה, במידה ובקובץ 002 הנתון שהתקבל הוא 2 אז המערכת תשמיע את קובץ 100.wav שנמצא בשלוחה
חשוב! הקובץ חייב להיות בפורמט wav (ולא tts) ובנוסף בעת שמיעת הקובץ לא ניתן להקיש על אף מקש

 

הגדרות עבור הקלטות - record
הערך הרביעי (הקלטה)
בערך זה ניתן להגדיר היכן תישמר ההקלטה במערכת
ברירת מחדל זה נשמר בתיקייה שמוגדרת ב-api_dir
ניתן להגדיר מיקום שונה
לדוגמה
/8 (סלש שמונה)
במקרה כזה ההקלטה תישמר בשלוחה 8

הערה: חובה לשים / בהתחלה. אסור לשים / בסוף

הערך החמישי (הקלטה)
בערך זה ניתן להגדיר את שם הקובץ שיישמר
כברירת מחדל שם הקובץ ממוספר בצורה אוטומטית כמספר הגבוה ביותר בשלוחה
למשל, אם הקובץ הכי גבוה בשלוחה היה 100 אז הקובץ החדש יהיה 101
במידה ורוצים להגדיר שם שונה לקובץ ניתן להגדיר בערך הזה את שם הקובץ הרצוי
בדוגמה 007 למעלה שם הקובץ יהיה file_name.wav
(ראה בנוסף "הערך השמיני" להלן)

הערך השישי (הקלטה)
סיום הקלטה
כברירת מחדל בסיום ההקלטה בהקשה על # המשתמש שומע תפריט M3345 "לשמיעת ההודעה הקישו אחת לאישור הקישו שתיים או סולמית להקלטה מחדש הקישו שלוש להמשך הקלטה הקישו ארבע"
ניתן להגדיר שבהקשה על # ההקלטה תאושר מידית (ללא תפריט) ההגדרה היא no

הערך השביעי (הקלטה)
שמירה בניתוק שיחה
כברירת מחדל, במידה ומשתמש ניתק את השיחה במהלך ההקלטה, ההקלטה לא נשמרת בשלוחה הרצויה.
כדי לשמור את ההקלטה יש להגדיר yes

הערך השמיני (הקלטה)
במידה והגדרתם בערך החמישי שם קובץ לשמירה
ברירת המחדל היא שאם כבר קיים בתיקייה קובץ בשם זהה אז המערכת משנה לו את השם (המערכת מוסיפה על השם הקיים את התאריך והשעה הנוכחיים)
ניתן להגדיר שהמערכת תוסיף את ההקלטה החדשה על ההקלטה הקיימת (כלומר הקטע החדש יתווסף בסוף ההקלטה הקיימת)
ההגדרה היא yes
במקרה כזה , מיד לאחר ההקלטה המערכת תחזור על ההקלטה כאילו המשתמש שמע ואישר.

הערך התשיעי (הקלטה)
בערך זה ניתן להגדיר את האורך המינימלי של ההקלטה (בשניות)
ברירת המחדל היא שכל אורך תקין
ניתן להגדיר כמות שניות שונה
במקרה כזה, במידה ומשתמש לא הקליט את המינימום המערכת תשמיע M1305 "ההודעה קצרה מידי" והמשתמש יעבור להקלטה מחדש.

הערך העשירי (הקלטה)
בערך זה ניתן להגדיר את האורך המקסימלי של ההקלטה (בשניות)
ברירת המחדל היא ללא הגבלה. ניתן להגדיר כמות שניות שונה.

כללי (הקלטה)

הודעות מערכת
לפני ההקלטה המערכת משמיעה M1012 "אנא הקליטו את הודעתכם לאחר הצליל. בסיום הַקישו סולמית"
אחר כך המערכת משמיעה "ביפ" שזה הצליל שמסמן את תחילת ההקלטה
במידה ורוצים שהמערכת לא תשמיע את ה"ביפ" יש להגדיר בשלוחה

api_record_beep=no
שמירת הקלטות
כל ההקלטות (גם ההקלטות שלא אושרו) נשמרות בסל המחזור בתיקיית ApiRecord

 

הגדרות עבור זיהוי דיבור - voice
הגדרות גלובליות עבור מנוע זיהוי דיבור
הערך הרביעי (דיבור)
בערך זה ניתן להגדיר באיזה שפה המערכת תזהה את הדיבור של המשתמש
ברירת המחדל היא עברית (או מה שהוגדר בערך lang בשלוחה)
בערך זה ניתן להגדיר שפה שונה. לרשימת השפות המלאות

הערך החמישי (דיבור)
ברירת המחדל היא שהמשתמש יכול לדבר או להקיש
במידה והמשתמש דיבר - המערכת מתמללת את הדיבור לטקסט
במידה והמשתמש הקיש - המערכת קולטת את ההקשות ושולחת את זה לשרת בתוספת Digits
לדוגמה, אם משתמש הקיש 1234 אז מה שיישלח לשרת תחת הערך של השאלה זה Digits-1234
בערך זה ניתן לחסום את ההקשות של המשתמש
ההגדרה היא no
(ראה עוד ערכים 6 ו-7 להלן)

הערך השישי (דיבור)
בערך זה ניתן להגדיר את כמות הספרות המקסימלית שמשתמש יכול להקיש
ברירת המחדל היא ללא הגבלה (ניתן לראות בדוגמה 006 שיש הגבלה ל-30 ספרות)

הערך השביעי (דיבור)
כברירת מחדל המערכת מפעילה מנוע תפריט שמזהה הקשה או דיבור של המשתמש. במידה והמשתמש הקיש המערכת מתייחסת לזה כהקשה, במידה והמשתמש דיבר המערכת מתייחס לזה כדיבור ומתמללת את זה.
החיסרון במנוע הזה, שהדיבור מוגבל לזמן קצר.
כדי להשתמש במנוע זיהוי דיבור של הקלטות בלבד יש להגדיר בערך הזה record (כמו בדומה למעלה בקובץ 008).

הערך השמיני (דיבור)
במידה והגדרתם בערך השביעי שהמערכת תפעיל את מנוע זיהוי דיבור של הקלטות, תוכלו להגדיר כאן זמן מקסימלי של שקט לסיום ההקלטה. (בדוגמה בקובץ 008 מוגדר 6 שניות)

הערך התשיעי (דיבור)
במידה והגדרתם בערך השביעי שהמערכת תפעיל את מנוע זיהוי דיבור של הקלטות, תוכלו להגדיר כאן את הזמן המקסימלי להקלטה (בדוגמה בקובץ 008 מוגדר מקסימום 9 שניות)

כללי (דיבור)

עזרה בהבנת הדיבור
ניתן "לעזור" למערכת לנסות להבין את דיבור המשתמש
לצורך כך יש ליצור קובץ ini ששמו כשם קובץ השאלה
לדוגמה, עבור שאלה 000 יש ליצור קובץ בשם 000.ini
בקובץ עצמו יש לרשום את מה שהמשתמש ידבר
(לדוגמה, אם המשתמש אמור לומר "ירושלים" אז יש לרשום בקובץ "ירושלים")
יש לרשום כל דיבור ודיבור בשורה חדשה

לתשומת ליבכם: לפני השליחה לשרת הקבצים של המערכת הם 000.wav או 000.tts ואח"כ 001.wav או 001.tts וכו' ולכן הקבצים הנלווים לעזרה גם יהיו בשמות 000.ini ואח"כ 001.ini

לאחר השליחה במידה ועניתם read אז הקובץ שהמערכת מחפש זה כשם הפרמטר שהוגדר כלומר אם עניתם שישמור את התשובה של הלקוח בפרמטר בשם AAA אז הקובץ לעזרה באותה השלוחה צריך להיות בשם AAA.ini

מה לעשות לאחר המרת הדיבור
אם מעוניינים שלא יושמע ללקוח את ההקראה של הטקסט שהתקבל לצורך שיקוף יש להגדיר

api_say_tts=no
אישור הזיהוי
ברירת מחדל לאחר ההשמעה (שיקוף ההקלטה בהקלטה מהטקסט) מיד עובר לשלב הבא,
אם רוצים שיבקש אישור, או אפשרות להקליט מחדש ניתן להגדיר

api_voice_ask_ok=yes
שמירת הקלטה
אם רוצים שהקובץ של ההקלטה יישאר אצלכם במערכת יש להגדיר

api_save_file=yes
הקובץ נשמר זמנית בסל המחזור בתוך תיקיה ApiVoice

 
 

כללי
ניתן להשמיע קובץ למשתמש לפני השמעת הנתון שנקלט
לדוגמה, אם המשתמש הקיש תז, המערכת תשמיע לו "תז הזהות שהקשתם היא..." ואז המערכת תשמיע את הנתון שהתקבל
לצורך כך יש להעלות קובץ שמע לשלוחה ששמו כשם השאלה בתוספת -AskBeforeOk
לדוגמה, עבור שאלה מספר 000 שם הקובץ יהיה 000-AskBeforeOk

ניתן להחליף בשליחת ערכים כל רווח ב"+" (יש שרתים שרווח עושה בעיות)
יש להגדיר:

api_add_replace_space=yes
במידה ויש טקסט שהתקבל בעברית, ולצורך שליחה רציפה של המילים כחלק משורת הכתובת
אנו ממירים את הטקסט ל URIENCODE (בדרך כלל המערכות web שלכם כבר ימירו את זה אוטומטית לעברית תקנית)


