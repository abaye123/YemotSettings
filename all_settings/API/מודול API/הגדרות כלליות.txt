
ב"ה

מודול API
הסבר קצר על המודול
המודול מאפשר לבצע חיבור בין המערכת הטלפונית לגורם חיצוני (בדוגמאות להלן: "שרת")
כשמצד אחד המערכת הטלפונית מעדכנת את השרת בנתונים שהתקבלו במערכת הטלפונית
ומהצד השני השרת שולח הוראות למערכת הטלפונית מה לבצע עם השיחה של המשתמש.

מודול זה יתכן ויהיה בעתיד בתשלום
עם זאת כרגע המודול חינמי עד להודעה אחרת בפורום

וכעת להגדרות המודול
הגדרות כלליות
שליחת נתונים לשרת
תשובת שרת
read
לוגים
קישורים לתוספים שניתנים להגדרה בכל מודול
רשימת כל ההגדרות שניתנות להטמעה בכל מודול
הגדרות זיהוי בכניסה לשלוחה
הסבר על הודעת ברוכים הבאים (הודעה ראשונה בשלוחה)
הרשאות כניסה לשלוחה
לשאלות ותמיכה - פורום מפתחים API
 9 
אחרי שנתיים
Eeliyahu ניהול  לפני 10 חודשים
הגדרות כלליות
הגדרת סוג שלוחה
type=api
כתובת URL לשליחת הפניות
api_link=https://example.com/YemotApi
כמובן שאחרי ה= יש לרשום את ה-URL של השרת שלכם
במידה ולא מוגדר URL המערכת תשמיע M1609 "לא מוגדר לינק" והמשתמש ייצא מהשלוחה

שיטת שליחה
ברירת מחדל המערכת שולחת את הפרטים בHTTP GET
במידת הצורך ניתן להגדיר שהפרטים יישלחו בHTTP POST
ההגדרה היא

api_url_post=yes
תיקיה שממנה יושמעו הקבצים
ברירת מחדל כל הקבצים המושמעים למשתמש נמצאים בשלוחה הנוכחית
ניתן להגדיר מיקום שונה לקבצים
ההגדרה היא

api_dir=/5/6
בדוגמה, הקבצים שיופעלו הם הקבצים שבתיקייה 5/6 (מלבד הודעות המערכת)
הערה חשובה: שימו לב שכתובת תיקייה חייבת להתחיל בסלש (?? /?? ) ולהסתיים ללא סלש.

שליחה בניתוק שיחה
לאחר שהמשתמש ניתק את השיחה (מכל שלוחה שהיא במערכת) המערכת שולחת לשרת את כל הנתונים שנאספו עד עכשיו בשלוחה, בתוספת הפרמטרים הבאים

hangup=yes - פרמטר שמציין שהמשתמש ניתק את השיחה
ApiHangupExtension=שלוחה פרמטר שמציין את השלוחה בה המשתמש ניתק את השיחה (לדוגמה אם המשתמש ניתק בשלוחה 3 אז יופיע בערך ApiHangupExtension=/3)
כברירת מחדל, שליחת הנתונים היא לכתובת שהוגדרה בשלוחה.
ניתן להגדיר שבניתוק ישלח ללינק אחר
ההגדרה היא

api_hangup_link=https://example.com/YemotApi/hangup
כדי לבטל את השליחה בניתוק שיחה יש להגדיר

api_hangup_send=no
מעבר בסיום
הערה: ההגדרות הבאות רלוונטיות רק במקרים שאין התייחסות בתגובת השרת לאן להעביר את המשתמש

ברירת מחדל בסיום השלוחה חוזר שלב אחד אחורה ניתן להגדיר מעבר לשלוחה אחרת או ניתוק | ראה כאן את האפשרויות להגדרה.
ההגדרה היא

api_end_goto=/5/8
בדוגמה, בסיום המשתמש יעבור לשלוחה 5/8 שתחת התיקייה הראשית


