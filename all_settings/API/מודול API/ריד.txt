אחרי 7 ימים
Eeliyahu ניהול  לפני 10 חודשים
read - קבלת נתונים נוספים מהמשתמש ושליחתם לשרת
הסבר
לאחר שהמערכת שלחה את הפניה לשרת, השרת מחזיר בתגובה איזה פעולה לבצע.
כל הפעולות שהובאו עד עכשיו (מלבד סליקת אשראי) הם פעולות שלאחריהן המשתמש יוצא מהשלוחה והמערכת מסיימת את ההתקשרות עם השרת.
בפעולה מסוג read ניתן ליצור דיאלוג בין המערכת לשרת.

לדוגמה, לאחר שהמערכת שלחה את תעודת הזהות של המשתמש לשרת, השרת בתגובה יכול לבקש מהמשתמש את 4 הספרות האחרונות של אמצעי התשלום, ולאחר מכן את הכתובת וכן הלאה.

הגדרות עבור תשובת שרת
ההגדרות עבור פעולה מסוג read מחולקות ל-2 חלקים

בחלק הראשון יש להגדיר את ההודעה שתושמע למשתמש
(לדוגמה - "אנא הקישו את 4 הספרות האחרונות של אמצעי התשלום")

בחלק השני יש להגדיר את סוג הנתון שנלקח מהמשתמש (הקשה, הקלטה ועוד)
 

בין הערכים של החלק הראשון והחלק השני יש להפריד עם =
לדוגמה
read=חלק ראשון=חלק שני

חלק ראשון - ההודעה שתושמע למשתמש
הערכים להגדרה באפשרות זו זהים לערכים הניתנים להגדרה בפעולה מסוג id_list_message

דוגמאות

read=f-YM_LOCAL/library/file.f-Methods_of_Payment=חלק שני
read=t-אנא הקליטו את שמכם המלא בקול ברור, לסיום הקישו סולמית=חלק שני
read=s-abc=חלק שני
read=s-abc.dateH-01/01/2023=חלק שני
read=date-01/01/2023=חלק שני
בדוגמה הראשונה, המערכת תשמיע למשתמש קובץ מהמאגר הגלובלי (ספריית library קובץ file) ולאחר מכן תשמיע למשתמש קובץ נוסף מתוך השלוחה (Methods_of_Payment.wav)
בדוגמה השנייה, המערכת תשמיע למשתמש "אנא הקליטו את שמכם המלא בקול ברור, לסיום הקישו סולמית"
בדוגמה השלישית, המערכת תקריא למשתמש את מה שכתוב בקובץ abc.tts שנמצא בשלוחה
בדוגמה הרביעית, המערכת תקריא למשתמש את מה שכתוב בקובץ abc.tts שנמצא בשלוחה, ולאחר מכן המערכת תשמיע את התאריך העברי של יום 01/01/2023
בדוגמה החמישית, המערכת תשמיע את התאריך הלועזי של יום 01/01/2023
חלק שני - הנתון שיילקח מהמשתמש
הערכים להגדרה באפשרות זו זהים לערכים הניתנים להגדרה עבור "קבלת נתונים מהמשתמש" (ראה לעיל "שליחת נתונים לשרת")

דוגמאות

read=f-YM_LOCAL/library/file.f-Methods_of_Payment=MOP,,4,4,Digits,yes
read=t-אנא הקליטו את שמכם המלא בקול ברור, לסיום הקישו סולמית=NAME,,voice
read=s-abc=Recordings,,record
בדוגמה הראשונה, הנתון שיילקח מהמשתמש הוא הקשות
בדוגמה השנייה, הנתון שיילקח מהמשתמש הוא דיבור
בדוגמה השלישית, הנתון שיילקח מהמשתמש הוא הקלטה

 
 

כללי
הנתונים הנשלחים לשרת
לאחר קבלת הנתון מהמשתמש המערכת מוסיפה את הנתון הזה על הנתונים שנשלחו בפעם הקודמת לשרת ושולחת הכל לשרת.
לכן חשוב לשים לב לא להשתמש בread בפרמטר שכבר קיים, כי במקרה כזה המערכת תשלח לכם את הפרמטר הזה פעמיים וזה ייצור אצלכם קונפליקט בשרת.

read_answer
הסבר על אפשרות זו: כברירת מחדל לאחר ביצוע הפעולה הרצויה, המערכת שולחת לשרת את הנתון שהתקבל ומחכה לקבלת התשובה מהשרת איזה פעולה לבצע.
באפשרות זו ניתן להגדיר שבמידה והתקבל נתון מסוים אז שהמערכת לא תשלח את הנתון לשרת אלא תבצע את הפעולה מיד.
לצורך כך יש להגדיר בהגדרות השלוחה (דוגמה)

read_answer_DFGH_1234=פעולה לביצוע
בדוגמה, במידה והפרמטר הוא DFGH והערך שהתקבל הוא 1234 אז המערכת לא תשלח את הנתונים שהתקבלו לשרת, אלא תבצע את הפעולות שהוגדרו בהגדרה זו.

שרשור פעולות
בפעולה מסוג read לא ניתן לשרשר פעולות לביצוע.
לאחר ביצוע פעולה אחת המערכת שולחת מיד את הנתון לשרת ולא מבצעת את הפעולה השניה

לדוגמה

read=f-000=abc,yes,8,4,7,Number,yes,no,*/&read=f-001=def,yes,8,4,7,Number,yes,no,*/&
המערכת תקבל ותשלח רק את הפרמטר abc ולא את הפרמטר def
