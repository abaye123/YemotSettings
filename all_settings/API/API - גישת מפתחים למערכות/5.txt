אחרי 15 ימים
שמואלשמואל לפני 11 חודשים
קבלת דוח קמפיין

הפקודה היא - ViewCampaignReports

הדוחות המתקבלים בממשק זה הם דוחות על קמפיינים שפירוט החיוב שלהם מתחיל ב

Start-YA-
בלבד.
למשל:

90a20430-33d2-4ec0-8755-9efc0d11a72b-image.png

הפרמטרים הנדרשים:

פרמטר	סוג	ערך	דוגמא
token	string	טוקן	
CampaignId	string	מזהה הקמפיין המבוקש. מזהה הקמפיין הוא כפי המופיע בדוח היחידות עם הסרה של Start-YA- מההתחלה.	SMS-3-0773137770-Yemot-1641217161871
json	Boolean	יש לשלוח ערך 1 על מנת לקבל מידע ב JSON	1
מאפייני תגובת השרת:

במידה שהבקשה תקינה, ערך "report" יכיל את הדוח של הקמפיין.
שימו לב, מבנה התגובה של הדוחות יוכל להשתנות בהתאם לסוג הקמפיין, ההסבר כרגע הוא על דוח של קמפיין סמס:

מאפיין	סוג	ערך
CampaignData	Object	מידע כללי על הקמפיין
report	Object	כל איבר באובייקט הוא מספר טלפון שאליו נשלח הקמפיין ומכיל את המידע עליו.
דוגמא למבנה מלא של דוח סמס:

daa8618c-6add-495d-b871-558057919b20-image.png

לפניות בנוגע לפורום: shmuel@yemot.co.il

 1 
אחרי חודש
שמואלשמואל  לפני 10 חודשים
הוספה ואימות של זיהוי ספיישל
אימות תקף לחודש ימים. לאחר חודש מהאימות המספר יוסר ויהיה צורך לאמת אותו בשנית. אימות של מספר קיים יאריך את תוקף האימות של המספר בחודש מזמן האימות.
הפקודה היא - ValidationCallerId

הפרמטרים הנדרשים

פרמטר	תיאור	סוג
token	טוקן	string
action	פעולה - (send/valid) להלן יפורטו הפעולות והפרמטרים	string
פעולה: send - שליחת בקשת אימות:

הפרמטרים לפעולה send :

פרמטר	תיאור	סוג
callerId	המספר להוספה	string
validType	סוג האימות. SMS / CALL	string
שליחת סמס/שיחת אימות הינה בעלות יחידות לפי התעריף הרגיל.

בתגובה תקינה יחזור:

מאפיין	סוג	הסבר	דוגמא
responseStatus	string	סטטוס הפעולה	OK
reqId	string	מזהה בקשת אימות. איתה יש לפנות על מנת לבצע אימות בפועל	
פעולה: valid - אימות:

הפרמטרים לפעולה valid:

פרמטר	תיאור	סוג
reId	מזהה בקשת אימות שהתקבל בפעולת send	string
code	קוד האימות	string
בתגובה תקינה יחזור:

מאפיין	סוג	הסבר	דוגמא
responseStatus	string	סטטוס הפעולה	OK
status	Boolean	סטטוס הוספת זיהוי הספשייל. true בהצלחה	
לפניות בנוגע לפורום: shmuel@yemot.co.il

 6 
אחרי 18 ימים
שמואלשמואל  לפני 10 חודשים
מערכת תזמון משימות
שימו לב, לע"ע לא יכול להיות מעל 10 משימות פעילות בכל לקוח.

הפקודה היא - GetTasks
קבלת רשימת המשימות במערכת.

הפרמטרים הנדרשים

פרמטר	תיאור	סוג
token	טוקן	string
limit	הגבלה לתוצאות (בחירת מחדל 100)	int
בתגובה תקינה יחזור מערך tasks המכיל בכל אובייקט משימה עם הפרטים הבאים:

מאפיין	סוג	הסבר	דוגמא
id	int	מזהה משימה (נדרש לביצוע פעולות, מחיקת משימה, עידכון משימה או קבלת לוגים)	1
description	string	תיאור חופשי של המשימה	
type	string	סוג המשימה	
createTs	string	זמן יצירה	
status	string	סטטוס המשימה	
active	Boolean(0/1)	האם פעילה	
sendMailInEnd	Boolean(0/1)	האם מוגדר לקבל מייל בעת סיום מוצלח	
sendMailInError	Boolean(0/1)	האם מוגדר לקבל מייל בעת סיום בשגיאה	
nextRun	string	זמן ריצה הבא	
הפקודה היא - GetTasksData
קבלת מידע מפורט על משימה מסויימת

הפרמטרים הנדרשים

פרמטר	תיאור	סוג
token	טוקן	string
TaskId	מזהה משימה	int
בתגובה תקינה יחזור:

ערכים מוגדשים הם ערכים שנוספו על המידע המתקבל בתוך המערך של רשימת המשימות הכללית

מאפיין	סוג	הסבר	דוגמא
id	int	מזהה משימה (נדרש לביצוע פעולות, מחיקת משימה, עידכון משימה או קבלת לוגים)	1
description	string	תיאור חופשי של המשימה	
type	string	סוג המשימה	
createTs	string	זמן יצירה	
status	string	סטטוס המשימה	
active	Boolean(0/1)	האם פעילה	
sendMailInEnd	Boolean(0/1)	האם מוגדר לקבל מייל בעת סיום מוצלח	
sendMailInError	Boolean(0/1)	האם מוגדר לקבל מייל בעת סיום בשגיאה	
nextRun	string	זמן ריצה הבא	
updateTs	string	זמן עדכון	
lastRun	string	זמן ריצה אחרון	
minute	int	הגדרת זמן ריצה: דקה	
hour	int	הגדרת זמן ריצה: שעה	
year	int	הגדרת זמן ריצה: שנה	
day	int	הגדרת זמן ריצה: יום בחודש	
month	int	הגדרת זמן ריצה: חודש	
days_of_week	string	הגדרת זמן ריצה: ימים בשבוע (ימים מופרדים בפסיקים 0=יום ראשון - 6=יום שבת)	
action_data	JSON	מידע למנוע המשימות על הפעולות לביצוע במשימה	
הפקודה היא - GetTasksLogs
קבלת לוג הפעלות על משימה מסויימת

הפרמטרים הנדרשים

פרמטר	תיאור	סוג
token	טוקן	string
TaskId	מזהה משימה	int
בתגובה תקינה יחזור ערך logs המכיל מערך שכל אובייקט מכיל את הפרטים הבאים:

ערכים מוגדשים הם ערכים שנוספו על המידע המתקבל בתוך המערך של רשימת המשימות הכללית

מאפיין	סוג	הסבר	דוגמא
id	int	מזהה הפעלת המשימה	1
succeeded	Boolean(0/1)	האם הסטטוס הוא מוצלח	
error_message	string	פירוט שגיאה	Campaign Id does Not found in customer
ts	string	זמן ההפעלה	
הפקודה היא - CreateTask
יצירת משימה חדשה

הפרמטרים הנדרשים

פרמטרי זמן ריצה שלא נשלחים נחשבים כ null - ללא התחשבות

פרמטר	סוג	תיאור	מידע נוסף
token	string	טוקן	
description	string	תיאור חופשי של המשימה	
minute	int	הגדרת זמן ריצה: דקה	
hour	int	הגדרת זמן ריצה: שעה	
year	int	הגדרת זמן ריצה: שנה	
day	int	הגדרת זמן ריצה: יום בחודש	
month	int	הגדרת זמן ריצה: חודש	
active	Boolean(0/1)	האם משימה פעילה	
checkIsKodesh	Boolean(0/1)	האם למנוע מהמשימה לרוץ בשבתות וחגים	
mailInEnd	Boolean(0/1)	האם לשלוח מייל בסיום מוצלח	
mailInError	Boolean(0/1)	האם לשלוח מייל בסיום בכישלון	
ifAnyDay	Boolean(0/1)	אם זה 1 אז כל לא בודק התחשבנות ב days	
days	(string(JSON	סטרינג המכיל JSON לפי הדוגמא מטה, כל איבר באובייקט המפתח שלו הוא יום. במידה שערך זה לא יהיה תקין יכנס null - כל הימים בשבוע	
taskType	string	סוג משימה	כרגע יכול להיות: SendSMS / RunTzintuk/MoveOnFile
callerId	string	זיהוי יוצא	רלוונטי לסוגי משימות SendSMS / RunTzintuk
toList	string	מזהה / שם רשימה	רלוונטי לסוגי משימותRunTzintuk
smsList	string	מזהה רשימת תפוצה	רלוונטי לסוגי משימותSendSMS
typeList	string	סוג רשימה	רלוונטי לסוגי משימותRunTzintuk. יכול להיות tpl / tzl
smsMessage	string	טקסט להודעת סמס	רלוונטי לסוגי משימותSendSMS
folder	string	תיקיית מקור	רלוונטי לסוגי משימותMoveOnFile
target	string	תיקיית יעד	רלוונטי לסוגי משימותMoveOnFile
moveFileType	string	סוג קובץ, maxFile/minFile	רלוונטי לסוגי משימותMoveOnFile
blockMoveIfNewFileInMinutes	int	חסימת העברת הקובץ במידה שבשלוחת היעד קיים קובץ שהוקלט בטווח הדקות שמצויין	רלוונטי לסוגי משימותMoveOnFile
דוגמא לסטרינג JSON המכיל מידע על ימי הפעילות:

{"0":1,"1":0,"2":1,"3":1,"4":0,"5":0,"6":0}
כלומר - כל key הוא יום. כל valus אומר ב 0 / 1 האם היום פעיל או לא.
בדוגמא למעלה רק ימים ראשון ושלישי מאופשרים.
להזכירכם: 0-זה יום ראשון ו6-זה יום שבת

בתגובה תקינה יחזור:

מאפיין	סוג	הסבר	דוגמא
id	int	מזהה הפעלת המשימה	1
jobId	int	מזהה משימה שנוצרה	
ActionData	object	אובייקט עם מידע על המשימה נכון לאיך שהיא נקלטה	
הפקודה היא - UpdateTask
עידכון זמני ריצה של משימה קיימת.

לא ניתן לשנות את סוג המשימה או את הדברים שהמשימה עושה
הפרמטרים הנדרשים

פרמטרי זמן ריצה שלא נשלחים נחשבים כ null - ללא התחשבות

פרמטר	סוג	תיאור	מידע נוסף
token	string	טוקן	
TaskId	int	מזהה משימה לעריכה	חובה
description	string	תיאור חופשי של המשימה	
minute	int	הגדרת זמן ריצה: דקה	
hour	int	הגדרת זמן ריצה: שעה	
year	int	הגדרת זמן ריצה: שנה	
day	int	הגדרת זמן ריצה: יום בחודש	
month	int	הגדרת זמן ריצה: חודש	
active	Boolean(0/1)	האם משימה פעילה	
mailInEnd	Boolean(0/1)	האם לשלוח מייל בסיום מוצלח	
mailInError	Boolean(0/1)	האם לשלוח מייל בסיום בכישלון	
ifAnyDay	Boolean(0/1)	אם זה 1 אז כל לא בודק התחשבנות ב days	
days	(string(JSON	סטרינג המכיל JSON לפי הדוגמא מטה, כל איבר באובייקט המפתח שלו הוא יום. במידה שערך זה לא יהיה תקין יכנס null - כל הימים בשבוע	
דוגמא לסטרינג JSON המכיל מידע על ימי הפעילות:

{"0":1,"1":0,"2":1,"3":1,"4":0,"5":0,"6":0}
כלומר - כל key הוא יום. כל valus אומר ב 0 / 1 האם היום פעיל או לא.
בדוגמא למעלה רק ימים ראשון ושלישי מאופשרים.
להזכירכם: 0-זה יום ראשון ו6-זה יום שבת

בתגובה תקינה יחזור:

מאפיין	סוג	הסבר	דוגמא
status	Boolean	יהיה true	
הפקודה היא - DeleteTask
מחיקת משימה

הפרמטרים הנדרשים

פרמטר	סוג	תיאור	מידע נוסף
token	string	טוקן	
TaskId	int	מזהה משימה למחיקה	
בתגובה תקינה יחזור:

מאפיין	סוג	הסבר	דוגמא
status	int	מספר המשימות שנמחקו	
לפניות בנוגע לפורום: shmuel@yemot.co.il

 11 
אחרי 3 חודשים
שמואלשמואל  לפני 7 חודשים
שליחת קמפיין הודעת TTS
הפקודה היא - SendTTS

הפרמטרים הנדרשים

פרמטר	תיאור	סוג
token	טוקן	string
callerId	זיהוי שולח, בחירת מחדל זיהוי המערכת הראשי. ניתן לכתוב מספר מאושר במערכת או מספר משני.	string
ttsMessage	תוכן הטקסט	string
repeatFile	כמה פעמים לחזור על ההשמעה. בחירת מחדל 2 פעמים.	int
ttsRate	מהירות השמעה כאשר 10 זה הכי מהיר ו 10- זה הכי לאט (בחירת מחדל רגיל)	int
ttsVoice	הקול של ההשמעה (מידע על הקולות כאן)	string
SendMail	האם לקבל דוח קמפיין	0/1
phones	נמענים בהפרדה של : בין כל מספר, או tpl:X על מנת לשלוח לרשימת תפוצה במערכת שבמקום הX יש לכתוב את מזהה הקמפיין. ניתן גם לקחת את המספרים מרשימת צינתוקים חינמית (בעלות יחידות מלאה!) על ידי ציון tzl:XX ובמקום XX את שם הרשימה.	string
החיוב על שליחת שיחה TTS הוא יחידה לדקה ראשונה ואחריה חיוב יחסי של יחידה לדקה.

מענה בעת הצלחה:

מאפיין	סוג	הסבר	דוגמא
responseStatus	string	סטטוס הפעולה	OK
CampaignId	string	מזהה קמפיין	
OKCalls	int	ספירת שיחות מוצלחות	
ErrorCalls	object	שיחות שגויות וסיבה	
billing	float	עלות	
units	string	יחידות בלקוח	
במקרה של שגיאה השגיאה תפורט.

לפניות בנוגע לפורום: shmuel@yemot.co.il

 10 
אחרי 25 ימים
שמואלשמואל  לפני 6 חודשים
הפקת דוח מקובץ ymgr
הפקודה היא - RenderYMGRFile

הפרמטרים הנדרשים

פרמטר	תיאור	סוג	הערות / דוגמא
token	טוקן	string	
wath	מיקום הקובץ במערכת	string	ivr2:/ymgtTest.ymgr
convertType	סוג הקובץ להנפקה. סוגים אפשריים: html / csv / json	string	רק במקרה של בקשת json תיהיה תגובה של json ממש. בשאר המקרים התגובה תיהיה הקובץ עצמו (Blob)
notLoadLang	האם לא להשתמש בקבצי שפה/תרגום לעמודות/ערכים	0/1	באם ערך זה הוא 1 התרגום יהיה נקי ומדוייק של הymgr ללא תוספות/הסתרות עמודות/שינויי שמות לעמודות. כבחירת מחדל מבצע תרגום גם שמבקשים json.
renderLanguage	שפת חיפוש תרגומים	[A-Z]	ניתן לבקש תרגום לפי שפה. בחירת מחדל HE.
חישוב סדר המרת ותרגום עמודות:
כל שלב דורס תרגום קודם באופן שהוא לא מוחק אותו אלא דורס תרגומים שיש עליהם הגדרה ספציפית.

קובץ ראשי - יש תרגום כללי (בשרת של ימות המשיח).
קובץ ספציפי (למשל, קובץ ל ApprovalAll)
קובץ ברמת מערכת לפי השפה שנבחרה.. למשל מחפש קובץ: YMGRLangs\EN\ApprovalAll.ini
קובץ ברמת מערכת - מחפש את שם הקובץ בסיומת ini בתוך תיקייה YMGRLangs שצריכה להיות תחת התיקיה הראשית של המערכת שבתוכה קובץ הini.
קובץ ברמת שלוחה לפי השפה שנבחרה.. למשל מחפש קובץ: main\1\2\EN\ApprovalAll.ini
קובץ בשלוחה - קובץ באותה השלוחה של קובץ הymgr עם סיומת ini.
שימו לב! רמת שפה היא רמת מתחת קובץ ללא שפה. למשל, אם אני בוחר שפה EN אבל בקובץ בשלוחה לא בתיקיה של השפה יש לי ערכים המערכת תתחשב בתרגום שלהם.

המענה בעת ההצלחה הוא הקובץ, כמו שנאמר, או במקרה של json:

מאפיין	סוג	הסבר	דוגמא
responseStatus	string	סטטוס הפעולה	OK
yALogsVersion	string	גירסת מערכת	
data	array	מערך שמכיל את תוכן הקובץ	
במקרה של שגיאה השגיאה תפורט כתגובה בjson.

לפניות בנוגע לפורום: shmuel@yemot.co.il

 10 
אחרי חודש
שמואלשמואל  לפני 5 חודשים
קבלת תנועות יחידות סמסים
הפקודה היא - GetCustomerSmsTransactions

הפרמטרים הנדרשים

פרמטר	תיאור	סוג	הערות / דוגמא
token	טוקן	string	
מביא 2000 תנועות אחרונות

מאפיין	סוג	הסבר	דוגמא
responseStatus	string	סטטוס הפעולה	OK
yAfastVersion	string	גירסת מערכת	
rows	array	מערך תנועות	
פירוט איבר במערך:

שם	תיאור
transactionTime	זמן תנועה
amount	סכום תנועה ביחידות
description	תיאור החיוב
newBalance	יתרת יחידות עדכנית בביצוע הפעולה
expireDate	תאריך תפוגה עדכני בביצוע הפעולה
who	מבצע הפעולה
לפניות בנוגע לפורום: shmuel@yemot.co.il

 3 
אחרי חודש
שמואלשמואל  לפני 3 חודשים
בדיקה האם תיקייה קיימת
הפקודה היא - CheckIfFolderExists

הפרמטרים הנדרשים

פרמטר	תיאור	סוג
token	טוקן	string
path	נתיב במערכת. דוגמאות למטה	string
מענה בעת הצלחה:

מאפיין	סוג	הסבר	דוגמא
responseStatus	string	סטטוס הפעולה	OK
folderExists	bool	האם התיקייה קיימת	
path	string	המיקום שלה	ivr/10
לפניות בנוגע לפורום: shmuel@yemot.co.il

 6 
אחרי חודשיים
שמואלשמואל  לפני חודשיים
חשבונות SIP
תיעוד API הנוגע לחשבונות SIP
כל השירותים שקשורים לSIP קיימים רק בשרתים תומכים.
בכל פניה לשרת שלא תומך תתקבל תגובה:

{responseStatus: "ERROR",message: "שרת זה אינו תומך במערכת SIP",yAfastVersion: "any"}
מאפיינים
לכל חשבון SIP במערכת יש מספר מאפיינים

מספר החשבון במערכת (למשל 1 2 וכן הלאה)
שם המשתמש להתחברות
בדרך כלל שם המשתמש מורכב ממספר המערכת ומספר החשבון.
למשל 0772222770=2 זהו שם המשתמש של חשבון 2 במערכת 0772222770
מספר שלוחה - כל מספר שנמצא בטווח מ-200 ועד 10,000
מספר שלוחה הינו מאפיין הנתון לבחירה של מנהל המערכת וניתן לשנות אותו בכל עת.
הדבר משמש עבור חיוגים פנימיים בין החשבונות. (למשל כדי לחייג משלוחה 200 לשלוחה 201 יש לחייג למספר "201" במקרה כזה מה שיופיע על הצג אצל מקבל השיחה זה "200")
סיסמת התחברות
פרוטוקול SIP להתקשרות (נכון לעכשיו התמיכה היא בפרוטוקולים UDP WSS)
יצירת חשבון
הפקודה היא - CreateSipAccount

הפרמטרים הנדרשים

פרמטר	תיאור	סוג
token	טוקן	string
extNumber	אפשר לציין מספר שלוחה. לא חובה. מספר שלוחה יכול להיות בין 200 ל10000.	int
מענה בעת הצלחה
מאפיין	סוג	הסבר	דוגמא
responseStatus	string	סטטוס הפעולה	OK
accountID	string	שם המשתמש שם החשבון שנוצר.	
accountNumber	int	מספר החשבון במערכת (לא מספר שלוחה)	
PASS	string	הסיסמה של החשבון להתחברות	
קבלת רשימת החשבונות במערכת
הפקודה היא - GetSipAccountsInCustomer

הפרמטרים הנדרשים

פרמטר	תיאור	סוג
token	טוקן	string
מענה בעת הצלחה

מאפיין	סוג	הסבר	דוגמא
responseStatus	string	סטטוס הפעולה	OK
accounts	array	מערך חשבונות	
accountLimit	int	כמות החשבונות שהלקוח יכול ליצור במערכת	6
מערך החשבונות

מאפיין	סוג	הסבר	דוגמא
id	string	שם המשתמש של החשבון	
accountNumber	int	מספר חשבון במערכת	
customerExtension	int	מספר שלוחה, אם מוגדר	
transport	string	סוג התקשורת המותרת בחשבון. transport-udp \ transport-wss	
callerid	string	מערכת לחיוב יחידות	
specialCallerID	string	זיהוי מיוחד להוצאת שיחות	
password	string	סיסמה להתחברות בsip	
created_date	string	תאריך יצירה של החשבון	
שינוי התעבורה המותרת בחשבון - UDP \ WSS
מאפשר לשנות את סוג התעבורה המותרת. תיתן להתחבר לחשבונות הSIP עם תקשורת של UDP או עם חיבור לWEBSOCET של שרת הסיפ, למשל כדי להטמיע את השירות בדפדפן על ידי פרוטוקול WEBRTC למשל בשימוש עם ספריית JSSIP.
הכתובת של שרת הSIP להתחברות עם WEBSOCKET היא WSS://SIP.YEMOT.CO.IL:8089/WS, החיבור הוא על בחיבור מאובטח בלבד (WSS://).
הפקודה היא - SipToWss | SipToUdp

הפרמטרים הנדרשים

פרמטר	תיאור	סוג
token	טוקן	string
accountNumber	מספר החשבון, אם לא צויין מוגדר על החשבון הראשון	int
מענה בעת הצלחה

מאפיין	סוג	הסבר	דוגמא
responseStatus	string	סטטוס הפעולה	OK
הגדרת זיהוי יוצא קבוע
מאפשר להגדיר את הזיהוי היוצא של החשבון

מיותר לציין, שזה יעבוד רק אם המספר מאושר במערכת או שהוא מספר משנה + מספר ישראלי תקין.
הפקודה היא - EditCallerIdInSipAccount

הפרמטרים הנדרשים

פרמטר	תיאור	סוג
token	טוקן	string
extNumber	אפשר לציין מספר שלוחה. לא חובה. מספר שלוחה יכול להיות בין 200 ל10000.	int
מענה בעת הצלחה

מאפיין	סוג	הסבר	דוגמא
responseStatus	string	סטטוס הפעולה	OK
ניתן לבקש זיהוי יוצא מיוחד גם בעת השיחה עצמה ללא שינוי בהגדרות החשבון על ידי צירוף של header בשם X-YemotCallerId ל INTIVE של השיחה היוצאת.
במקרה של סתירה בין המופיע בהגדרות החשבון להגדרות השיחה הנוכחית, הגדרות השיחה יגברו.

מחיקת חשבון
הפקודה היא - DeleteSipAccount

הפרמטרים הנדרשים

פרמטר	תיאור	סוג
token	טוקן	string
accountNumber	מספר החשבון למחיקה כמספר, או מערך של מספרי חשבונות sip למחיקה.	int / array
מענה בעת הצלחה

מאפיין	סוג	הסבר	דוגמא
responseStatus	string	סטטוס הפעולה	OK
affected_rows	int	מספר חשבונות הsip שנמחקו	
ניהול מספר שלוחה
הפקודה היא - SipExtensionManagement

הפרמטרים הנדרשים

פרמטר	תיאור	סוג
token	טוקן	string
SipExtensionManagement	פעולה לביצוע. Get עבור קבלת מספר השלוחה ללא ביצוע שינוי. Set עבור שינוי או הגדרה של מספר שלוחה.	string
accountNumber	מספר חשבון ברירת מחדל החשבון הראשון	
extNumber	מספר שלוחה. לא חובה בפעולת Get, אם לא צויין בפעולת Set מספר השלוחה ימחק.	
מענה בעת הצלחה

מאפיין	סוג	הסבר	דוגמא
responseStatus	string	סטטוס הפעולה	OK
extNumber	int	מספר השלוחה. במידה שמדובר בפעולת Set זה יכיל את המספר שלוחה החדש.	
מידע טכני נוסף על קבלת שיחות לחשבון SIP
בINVITE שמגיע מימות המשיח ללקוח בכל שיחה יש 2 header שנוספים בכל שיחה.

X-Yemot-Path = מספר השלוחה שממנה הגיע השיחה.
X-Yemot-CallID = מזהה השיחה. ניתן להשוות את זה עם מודול תור בשימוש עם queue_api_send=yes, שם זה מגיע לשרת בערך YemotCallID.

לפניות בנוגע לפורום: shmuel@yemot.co.il

 8 
שמואלשמואל לפני חודשיים
שינוי שימוש (usage) של מספר משנה
הפקודה היא - SetSecondaryDidUsageDescription

הפרמטרים הנדרשים

פרמטר	תיאור	סוג
token	טוקן	string
secondaryDidId	מזהה המספר משנה. מתקבל במערך המספרים המשניים ב GetCustomerData	int
newUsage	שימוש חדש, כפי המוסבר מטה.	string
ניתן לשנות שימוש של מספר משנה לאחד משתי הקידומות האלה:

sip:[0-9]goto:/[A-Za-z0-9א-ת/]
בנוסף, עם השימוש הישן הוא לא משהוא שאפשר לבחור אותו לא יתאפשר בכלל לשנות את השימוש.

הסבר על שימוש SIP:X:
מאפשר לשייך מספר משנה למספר חשבון sip במערכת, כך שבחיוג ישיר למספר המשנה יגיעו לחשבון הsip. למשל, כדי לשייך לחשבון מספר 5 של המערכת יש לכתוב sip:5. גם ציון מספר שלוחה אפשרי ויחייג למספר השלוחה. האפשרות תעבור רק בשרתים תומכי sip.

הסבר על שימוש GOTO:/:
מאפשר לשייך מספר משנה לשלוחה ספציפית במערכת - למשל, כדי לשייך לשלוחה 1/20/11 יש לכתוב goto:/1/20/11.

מענה בעת הצלחה:

מאפיין	סוג	הסבר	דוגמא
responseStatus	string	סטטוס הפעולה	OK
status	bool	הצלחה	ture
לפניות בנוגע לפורום: shmuel@yemot.co.il

 11 
שמואלשמואל לפני חודשיים
קבלת מידע כללי על תיקיה (שלוחה)

הפקודה היא GetIVR2DirStats

הפרמטרים הנדרשים

פרמטר	תיאור	הערות
token	טוקן	חובה
path	נתיב תיקייה	חובה. לדוגמה: / עבור שלוחה ראשית. 1 עבור שלוחה 1 ext/1 עבור שלוחה ext/1
מאפייני תגובת השרת

מאפיין	סוג	הסבר
type	string	סוג השלוחה
thisPath	string	נתיב תיקייה נוכחית
parentPath	string	נתיב תיקיית אב
dirsCount	int	כמות תיקיות בשלוחה
filesCount	int	כמות קבצים בשלוחה
contentFilesCount	int	כמות קבצי שמע בשלוחה
minFile	object	מידע על קובץ השמע הנמוך בשלוחה
maxFile	object	מידע על קובץ השמע הגבוה בשלוחה
מאפייני קובץ שמגיעים באובייקטים minFile/maxFile

מאפיין	סוג	הסבר
exists	boolean	האם התיקייה/קובץ קיימים
name	string	שם התיקייה/קובץ
uniqueId	string	מזהה ייחודי לתיקייה/קובץ
what	string	נתיב תיקייה/קובץ
fileType	string	סוג תיקייה/קובץ
size	int	גודל קובץ (בבתים)
mtime	string	תאריך שינוי אחרון
duration		אורך (בדקות)
durationStr	string	אורך בפורמט mm:ss
customerDid	string	מספר מערכת בה נוצר הקובץ
meta	string	אובייקט המכיל מיגע נוסף על הקובץ
date	string	זמן יצירת קובץ dd/mm/yyyy hh:mm
source	string	מקור הקובץ
phone	string	טלפון יוצר הקובץ
ip	string	כתובת IP של מעלה הקובץ
לפניות בנוגע לפורום: shmuel@yemot.co.il


