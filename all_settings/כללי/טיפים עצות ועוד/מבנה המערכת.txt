 12 
יעקב ישראליעקב ישראל ניהול  20 במאי 2020, 19:41
מבנה המערכת
המערכת בנויה שבכל שלוחה יש קובץ "ניהול" שזה אומר למערכת מהו סוג השלוחה,
ולכן כדי ששלוחה תעבוד - חייב שיהיה בתוכה קובץ "ניהול שלוחה" בשם ext.ini ובתוכו רשום ההגדרות של אותה השלוחה.
וכשהמערכת מגיעה לשלוחה היא בודקת מה רשום בקובץ הניהול, ולפי"ז היא פועלת .
ניתן למצוא קובץ זה בהגדרות מתקדמות בתוך מערכת תוכן באתר.

bandicam 2020-05-20 19-59-21-404.jpg

בהגדרות מתקדמות באמצעות החץ הקטן ניתן להחליף מ ext.ini ל ivr.ini

למשל שלוחה של "תפריט" בתוך קובץ הניהול של השלוחה יהיה רשום:

type=menu
ולכן כשהחייגן מגיע לשם הוא יודע שמדובר בשלוחת תפריט.

איך מגדירים?
אז ככה:
היות והשורה הראשונה היא זאת שקובעת את הסוג של השלוחה (אם היא תיהיה תפריט או השמעת קבצים - למשל)
אז כשרוצים לשנות את השלוחה למשהו אחר - אנחנו נצטרך להחליף את מה שכתוב בשורה הראשונה

איזה הגדרות צריך לכתוב שם?

אז ברוך השם השתדרגנו - ויש לכך כיום 3 דרכים
נתחיל מן הקל אל הכבד

1 - לשונית "הגדרות בשלוחה"
זהו אשף ידידותי ונח שיחסוך את החיפוש של ההגדרה המתאימה

2 - לשונית "מאפיינים"
שם יש את ההגדרה הבסיסית הראשונית של חלק מסוגי השלוחות.

3 - חיפוש בפורום
מוצאים את ההגדרה הרצויה בפורום
לוחצים על סמל ההעתקה
8a82a8e3-3f85-401c-9f1a-4151193b457f-image.png
ומדביקים את זה בתוך הלשונית הגדרות מתקדמות

אחרי שהגדרנו את סוג השלוחה ישנם הגדרות נוספות שניתן להגדיר כגון האם השלוחה תיהיה נעולה וכדו' כפי שיתבאר בהמשך

המערכת לוקחת את הערכים מה לעשות בשלוחה לפי 2 רמות, באם אין הוראות למערכת "ברמה 1" - מחפש ברמה 2.

רמות הערכים

קובץ בשם ext.ini בתוך כל שלוחה - שזה הקובץ שמגדיר את סוג השלוחה ואת היעוד שלה וכו'.
קובץ בשם ivr.ini שנמצא בשלוחה הראשית של המערכת.
זאת אומרת, בהתחלה המערכת מחפשת פקודות בתוך קובץ הext.ini שנמצא בתוך השלוחה, באם אין ערכים לביצוע - אז המערכת בודקת בקובץ הivr.ini שנמצא בתיקיה ראשית של המערכת.
(באם לא קיים קובץ ivr.ini יש לנקוט בשתי פעולות,
1- לעמוד בשלוחה הראשית בכרטסת ניהול קבצים להקיש עם העכבר הקשה ימנית על הקובץ שנקרא ext.ini ולשנות את שמו ל ivr.ini

0bb1be11-ce6c-403a-b486-6944c91e8b12-image.png

2- עכשיו תעמדו על כרטסת "הגדרות מתקדמות" יופיע לכם הודעה "צור את הקובץ" זה יצור לכם קובץ ext.ini חדש

ההודעות במערכת
ההודעות במערכת הן בפורמט של M0000 כאשר את האפסים מחליף קוד הודעת המערכת.
במידה והמערכת מגיעה למקום שבו צריך להשמיע הודעת מערכת יש בדיקה ב3 רמות:
האם יש קובץ בשם ההודעה בשלוחה הספציפית? - אם כן משמעים אותו.
האם יש קובץ בשם ההודעה בשלוחה בתיקיה בשם Messages הנמצאת בשלוחה הראשית של המערכת? - אם כן משמיעים אותו.
באם אין את הקבצים בשלוחה הספציפית או במערכת - מושמעת הודעת הברירת מחדל ממערכות ימות המשיח.
בהמשך יש הסבר נוסף על הודעות המערכת כאן

 6 
יעקב ישראליעקב ישראל ניהול  20 במאי 2020, 21:05
הגדרות ברירת המחדל של המערכת
ברגע שפותחים מערכת חדשה ומתקשרים - המערכת מבקשת סיסמת ניהול ויוצרת:
שלוחה ראשית-תפריט,
שלוחות 1-8 השמעת קבצים ,
שלוחה 9 חדר ועידה,
שלוחה 0 כניסה לניהול,
שלוחה כוכבית אחת - הוראות הפעלה,
שלוחה כוכבית שתים - השארת הודעה למנהל המערכת,
שלוחה כוכבית שלוש - חזרה למיקום האחרון אליו הֶאֵזַנְתֶם.
שלוחה כוכבית ארבע- השמעת כל ההקלטות הקיימות במערכת.
שלוחה כוכבית חמש - פתיחת מערכת ווצאפון.
שלוחה כוכבית שש - רשימת השמעה אישית.
כוכבית שבע - הקלטות לכל השלוחות ע"י סיסמת הקלטות
כוכבית שמונה - הגדרה שכל שלוחות השמעת קבצים יהיה לו תפריט בחירת קובץ

ולכן אם נכנס לקובץ הניהול ext.ini בשלוחות האלה נראה את הערכים הבאים:

בשלוחה ראשית-תפריט, הערך יהיה:

type=menu
להסבר ואפשרויות נוספות בתפריט לחץ כאן

בשלוחה 1 השמעת קבצים, הערך יהיה:

type=playfile
להסבר ואפשרויות נוספות בהשמעת קבצים לחץ כאן

בשלוחה 9 חדר ועידה, הערך יהיה:

type=confbridge
להסבר ואפשרויות נוספות בחדר וועידה לחץ כאן

בשלוחה 0 כניסה לניהול, הערך יהיה:

type=admin_login
להסבר ואפשרויות נוספות בכניסה לניהול לחץ כאן

בשלוחה כוכבית אחת - הוראות הפעלה, הערך יהיה:

type=message_options_menu
בשלוחה כוכבית שתים - השארת הודעה למנהל המערכת, הערך יהיה:

type=voice_mail
בשלוחה כוכבית שלוש - חזרה למיקום האחרון אליו הֶאֵזַנְתֶם, הערך יהיה:

type=last_play
לפרטים נוספים הקש כאן

שלוחה כוכבית ארבע- השמעת כל ההקלטות הקיימות במערכת, הערך יהיה:

type=playfile
folder_to_play=LinkAllRecord
שלוחה כוכבית חמש - פתיחת מערכת ווצאפון, הערך יהיה:

type=open_wap_reseller_customer
בכדי לאשר שתהיה אפשרות פתיחת מערכות ווצאפון מהמערכת שלכם, יש להגדיר ערך נוסף: (לא מוגדר אוטומטית)

open_wap_reseller_customer=yes
שלוחה כוכבית שש - רשימת השמעה אישית, הערך יהיה:

type=phone_play_list
כוכבית שבע - הקלטות לכל השלוחות ע"י סיסמת הקלטות

type=record
folder_move=tfr
password=password_record
כוכבית שמונה - הגדרה שכל שלוחות השמעת קבצים יהיה לו תפריט בחירת קובץ

type=start_select_file
לפרטים נוספים הקש כאן

הסבר על כל ערך בפני עצמו ניתן לראות בפוסטים נפרדים באינדקס הקישורים

 6 
יעקב ישראליעקב ישראל ניהול 20 במאי 2020, 23:57
יצירת שלוחה חדשה
על מנת ליצור שלוחה שבתוכה יש עוד שלוחות, יש להגדיר את השלוחה כ"תפריט" ובתוך שלוחת תפריט אפשר לפתוח עוד שלוחות,
על מנת לשנות את השלוחה לתפריט - יש לעמוד על השלוחה - ובלשונית "מאפיינים" לבחור ב"תפריט" וללחוץ על שמור.
(יתכן ויהיה צורך לרענן את האתר ואז לחזור שוב לשלוחה)
עכשיו נעמוד על השלוחה ונבחר בלשונית "ניהול קבצים" ונלחץ על "צור שלוחה חדשה"
יפתח לנו חלונית שבו נבחר את סוג השלוחה החדשה ואת המספר של השלוחה (וניתן גם להוסיף כינוי לשלוחה - שזה יעזור לכם לזכור את יעוד השלוחה)
"יצרנו בהצלחה שלוחה חדשה", ניתן לחזור על שלב זה שוב ושוב וליצור שלוחות מרובות בתוך שלוחת ה"תפריט"

שימו לב!
על מנת ליצור יותר מ9 שלוחות ניגש ללשונית "הגדרות בשלוחה" ולאחר שנבחר את סוג השלוחה "תפריט" יהיה לנו אפשרות לבחור שיהיה יותר מ9 שלוחות
שזה אומר שכל השלוחות חייבות להיות דו ספרתיות, דהיינו - שלוחה 1 תהיה 01 ושלוחה 2 תיהיה 02, וכך הלאה...
עד 99...

לאחר שיצרנו את השלוחות שבתוך התפריט, אנחנו נצטרך להקליט את "הודעת התפריט"
שזה אומר למשל - אם פתחנו שלוחה לספר בראשית ובתוכו יש שלוחות של הפרשיות - אז נצטרך להקליט "לבראשית הקש 1 לנח הקש 2..."
זה מה שנקרא הודעת תפריט והיא נקראת מצד המערכת M1000 ניתן להעלות אותה לשלוחת התפריט בלשונית "הודעות"

00e1ec62-6119-49a7-8172-40bbab36c160-image.png

 6 
יעקב ישראליעקב ישראל ניהול  20 במאי 2020, 23:59
הוספת הגדרות נוספות בשלוחה
בכדי להוסיף את ההגדרות יש להעתיק אותם ולהדביק אחרי ההגדרה של השלוחה
דהיינו אחרי השורה הראשונה שמגדירה את סוג השלוחה type=XX

דוגמא:

type=menu
password=1234
השורה הראשונה הגדירה למערכת את סוג השלוחה שהוא תפריט
והשורה השניה הגדירה שהכניסה לשלוחה היא עם קוד בלבד ומה קוד הכניסה.

הגדרת סוג השלוחה הינו חובה! ללא הגדרה השלוחה לא תעבוד.
דהיינו השורה הראשונה שכתוב type=XX זה ההגדרה של השלוחה והיא חובה

קיצורים בכתיבת ניתוב המאזין לשלוחה אחרת
אם הגדרתם הגדרה שמעבירה את המאזין לשלוחה אחרת בכל מקום במערכת, לדוגמא במודול הפעלת שלוחה אחרת, לאיפה המאזין יעבור.. וכן בכל מקום ובכל מודול שמגדירים העברת מאזין לשלוחה אחרת,
ניתן לכתוב במקום את ניתוב השלוחה המלא, כך:

go_to_folder=.
ואז המאזין חוזר שוב לאותה השלוחה בה הוא נמצא מהתחלה.

כדי לחזור שלוחה אחת אחורה, יש להגדיר

go_to_folder=..
ניתן גם להגדיר את הקיצורים + מספר שלוחה.
לדוגמא, אם השלוחה שבה נמצא המאזין היא 1/1 במודול הפעלת שלוחה אחרת, ואנו רוצים שיעבור לשלוחה 1/2, יש להגדיר

go_to_folder=../2
בדוגמה, הוא בעצם חזר שלב אחד אחורה ולאחר מכן נכנס לשלוחה 2.

כך ניתן לחסוך לכתוב את כל הנתיב ??

כמובן שמה שהבאנו כאן זה רק דוגמא של קבלת נתונים ואפשר לקחת כל הגדרה שמעבירה את המאזין לשלוחה אחרת ולכתוב את הקיצורים.
שימו לב! הקיצורים עובדים רק בהעברת המאזין לשלוחה אחרת.
הגדרת לקיחת קבצים משלוחות אחרות וכדומה, צריך לכתוב ניתוב מלא

 5 
יעקב ישראליעקב ישראל ניהול  21 במאי 2020, 0:21
הגדרות במערכת עצמה - הגדרות תקפות בכלל השלוחות בקובץ ext.ini או בקובץ ראשי ivr.ini
תאריך עברי במערכת
המערכת טוענת את התאריך עברי בתחילת שיחה ולכן באם ברצונכם לשנות ברירת מחדל יש לעשות זאת בקובץ ivr
ברירת מחדל - התאריך מתחלף בשקיעה.
באם רוצים שהתאריך יתחלף בחצות הלילה יש להכניס את ההגדרה הבאה:

jcalendar_realdate=0
באם רוצים שעד שעה מסוימת ביום המערכת תוריד יום אחד מהתאריך העכשווי ניתן להגדיר (בנוסף להגדרה הנ"ל):

jcalendar_subtract_day_if_time_before=0559
בדוגמא כאן עד דקה לשש בבוקר התאריך העברי יהיה יום אחורה

 7 
יעקב ישראליעקב ישראל ניהול  21 במאי 2020, 0:27
הגדרת ושינוי שפה
כברירת מחדל כל הודעות המערכת שהמשתמש שומע במהלך השיחה הן בעברית.
כדי לשנות את שפת המערכת יש להגדיר בשלוחה

language=שפה רצויה (ראה להלן)
במקרה כזה, השפה שתוגדר עבור השיחה של המשתמש (מהשלוחה הנוכחית והלאה) היא השפה שהגדרתם.
אין צורך להגדיר את ההגדרה בכל שלוחה במערכת, המערכת זוכרת את ההגדרה גם עבור שלוחות הבאות. (כמובן שבכל שלב תוכלו להגדיר שפה שונה וזו השפה שתהיה מאותו שלב והלאה)

רשימת שפות
עברית

language=he
יידיש

language=de
אנגלית

language=en
ערבית

language=ar
ספרדית

language=es
גרמנית

language=de1
הערה: אם המערכת לא מוצאת קובץ בגרמנית היא מנסה למצוא אותו ביידיש ואם לא קיים אז בעברית

צרפתית

language=fr
רוסית

language=ru
אמהרית

language=am
הערה: כרגע עובד רק ספרות 0 עד 9, כל השאר ילקח מאנגלית

קול ממוחשב

language=wap
הערה: לא כל הקבצי שמע נתמכים בכל השפות, במידה וקובץ שמע חסר ישמיע בכל זאת את הקובץ בשפה הקיימת - עברית.
 9 
יעקב ישראליעקב ישראל ניהול  21 במאי 2020, 0:32
סדר ההרשאות בכניסה לפי זמנים ו/או סיסמה ו/או חסימת מספרים לא מזוהים ו/או כניסה ע"פ רשימה לבנה ו/או כניסה על פי רשימה שחורה ו/או כניסה לפי מספר אישי
הבדיקה היא לפי הסדר כלומר בודק קודם כל אם יש שעות כניסה מורשות ולאחר מכן בודק אם יש סיסמה, לאחר מכן האם מוגדר לא להכניס אם זיהוי ובאמת אין זיהוי, לאחר מכן האם מופיע ברשימה הלבנה ולאחר מכן רשימה שחורה ולאחר מכן האם מוגדר כניסה לפי מספר אישי,
באם עומד בקרטיונים של 6 הדברים - אז יכנס לתיקיה

שימו לב שכל המודולים של פילטרים גם אלו של הטמעה יעבדו רק אחרי שהמשתמש יעבור את כל השלבים האלו

 11 
יעקב ישראליעקב ישראל ניהול  21 במאי 2020, 0:55
כניסה לשלוחה לפי זמנים
enter_if_time=09:00-17:00.mon-fri.1-20.jun
בדוגמא יכניס בין השעות 9 ל 17 כאשר הימים בין שני לשישי כאשר הימים בחודש בין 1 ל20 בחודש jun
דוגמא נוספת

enter_if_time=*.mon-fri.*.*
תכניס בכל השעות כאשר הימים בין שני לשישי בכל הימים בחודש ובכל החודשים.
כוכבית זה אומר בכל הזמנים

הסדר הוא
שעות-ימים בשבוע-ימים בחודש- חודשים
יש לכתוב משעה עד שעה כאשר ביניהם יש - וכן מיום עד יום ומחודש עד חודש.

רשימת הימים:
ראשון	שני	שלישי	רביעי	חמישי	שישי	שבת
sun	mon	tue	wed	thu	fri	sat
רשימת החודשים
ינואר - 01	פברואר - 02	מרץ -03	אפריל - 04	מאי - 05	יוני -06	יולי - 07	אוגוסט - 08	ספטמבר - 09	אוקטובר 10	נובמבר - 11	דצמבר - 12
jan	feb	mar	apr	may	jun	jul	aug	sep	oct	nov	dec
חשוב לציין שבהגדרת כניסה לפי טווח ימים, הרי ש'עד' בכלל, לדוגמה: 1-28, גם 28 בכלל הפעילות ורק ב29 יחסם. לתשומת לבכם.

בלינק זה הוסבר כיצד להגדיר מספר שעות כניסה לשלוחה לדוגמה מ10 עד 12 ומ5 עד 7

חדש! ניתן לעשות בשלוחה אחת 2 זמני כניסה. יש להכניס את ההגדרה -

enter_if_time_check_again=yes
לאחר מכן יש להגדיר את שעות הכניסה הנוספים בהגדרה -

check_again_enter_if_time=20:30-23:00.sat-sat.26-26.sep
במידה ועכשיו השלוחה סגורה המערכת תשמיע:
M1114 שלוחה זו סגורה כעת
ברירת מחדל חוזר שלב אחורה
ניתן להגדיר מעבר לשלוחה אחרת

enter_if_time_close_goto=/5/8
או ניתוק

enter_if_time_close_goto=hangup
זמן פתיחת שלוחה
ניתן להגדיר ששלוחה מסויימת תפתח רק לאחר הזמן המוגדר
הגדרת הזמן היא:

enter_after_time=2019-01-05-11-22-00
שנה, חודש,יום, שעה, דקות, שניות

ניתן להגדיר שהמערכת תשמיע הודעה

enter_after_time_playfile=AAA
המערכת מחפשת הודעה בשלוחה הנוכחית,
בדוגמא כאן המערכת תחפש את AAA.wav

באם ברצונכם שהמערכת לא תשמיע את הזמן המוגדר אלא את ההודעה שהגדרתם ומיד לאחר מכן חזרה שלב אחד אחורה ניתן להגדיר

enter_after_time_playfile=AAA
enter_after_time_wait_goto=..
ברירת מחדל כשהזמן עוד לא הגיע

באם הזמן הוא מעל 24 שעות
המערכת תשמיע:
M1180 הכניסה לשלוחה תחל מ
(יום בשבוע)
יום בחודש עברי
חודש עברי
יום בחודש לועזי
חודש לועזי
M1181 בשעה
M1182 ו...
M1183 דקות

ברירת מחדל משמיע גם תאריך עברי וגם לועזי

ניתן להגדיר להשמיע רק תאריך עברי

enter_after_time_say_date=heb
או להשמיע רק תאריך לועזי

enter_after_time_say_date=gregorian
ברירת מחדל חוזר שלב למעלה
ניתן להגדיר מעבר לשלוחה אחרת או ניתוק

enter_after_time_tfr_wait_goto=hangup
enter_after_time_tfr_wait_goto=/5/8
באם הזמן הוא מעל 2 דקות ומתחת ל24 שעות:

יושמע תפריט
M1184 הכניסה לשלוחה תחל בעוד
M1185 שעות
M1182 ו...
M1183 דקות
M1186 "להמתנה הקישו 1 ליציאה הקישו 2 או כוכבית"

מי שמקיש 2 או כוכבית

ברירת מחדל חוזר שלב למעלה
ניתן להגדיר מעבר לשלוחה אחרת או ניתוק

enter_after_time_tfr_wait_goto=hangup
enter_after_time_tfr_wait_goto=/5/8
במידה ונשאר פחות מ2 דקות הלקוח ישר מועבר להמתנה
ניתן לשנות את המוזיקה בהמתנה לכל אחד מהאפשרויות הקיימות

enter_after_time_music_on_hold=המוזיקה בהמתנה שלכם
במידת הצורך בקשו משרות הלקוחות להוסיף את המוזיקה בהמתנה שלכם

ניתן להגדיר שמלכתחילה כל עוד השלוחה לא נפתחה ישר יעבור ללא שום הודעות לשלוחה אחרת או ניתוק

enter_after_time_wait_goto=hangup
enter_after_time_wait_goto=/5/8
זמן סגירת שלוחה
ניתן להגדיר מתי השלוחה תיסגר

enter_foldar_end_time=2019-07-09-18-52-30
כאן בדוגמה השלוחה תיסגר בתאריך 09/07/2019, בשעה 18:52:30.

ברירת מחדל משמיע את הקובץ M1174 "תם זמן הכניסה לשלוחה".

ניתן גם להגדיר שלא ישמיע אלא יחזור לשלחה הקודמת בשקט

enter_foldar_end_time_play=no
ניתן גם להגדיר לאן ללכת באם השלוחה כבר נסגרה, ברירת מחדל חוזר שלב אחד אחורה, אם רוצים שילך למיקום אחר, יש להגדיר

enter_foldar_end_time_out_goto=/2
כאן בדוגמה ילך לשלוחה 2 שתחת השלוחה הראשית

 7 
יעקב ישראליעקב ישראל ניהול  21 במאי 2020, 1:13
הגדרת סיסמה לשלוחה
יש שלוש אפשרויות להגדרת סיסמה

בחירת סיסמה מסויימת לשלוחה זו
password=1234
בדוגמה הקוד הוא 1234 ניתן להחליף לכל מספר

הסיסמה של ניהול המערכת תידרש בכניסה לשלוחה זו
לחילופין ניתן גם להגדיר
password=password_admin
ואז הסיסמה היא סיסמת הניהול של המערכת המוגדרת באותו זמן, וכאשר תוחלף סיסמת הניהול תוחלף גם הסיסמה בשלוחה.

הסיסמה של הקלטות תידרש בכניסה לשלוחה זו
password=password_record
ואז הסיסמה היא סיסמת ההקלטות של המערכת המוגדרת באותו זמן (שמגדירים בלשונית הגדרות משתמש באתר),
וכאשר תוחלף סיסמת ההקלטות תוחלף גם הסיסמה בשלוחה.

ברירת מחדל דורש סיסמה פעם אחד בשיחה, ניתן להגדיר שכל כניסה לשלוחה ידרוש סיסמה גם באותה שיחה:

password_always_required=yes
מעבר בהקשת סיסמא שגויה
ברירת מחדל בהקשת סיסמה שגויה חוזר שלב אחד אחורה
ניתן להגדיר מעבר לשלוחה אחרת

password_error_goto=/5/8
(בדוגמה, יעבור לשלוחה 5/8)
או ניתוק

password_error_goto=hangup
log ניסיונות הקשת סיסמא
באם רוצים שישמר לוג עם ניסיונות הכניסה המוצלחות והלא מוצלחות של מי שהקיש קוד שגוי, ניתן להגדיר

password_log_save=yes
הקובץ ישמר בשלוחת Log שתחת השלוחה הראשית,
שם הקובץ הוא
LogPassword.ini

לתשומת לב - זה לא שומר נסיונות כניסה לשלוחה מסוג "כניסה לניהול"
אם אתה רוצה לראות מי ניסה להיכנס לניהול תוסיף בשלוחת הניהול [0 בד"כ] את הקוד:

enter_id=yes
enter_id_type=phone
record_name=no
והכניסות יופיעו בקובץ LogEnterID.ymgr

הודעות מערכת קשורות
M1100 נא הקש את הסיסמה ובסיום הקש סולמית
M1101 סיסמה שגויה

 6 
יעקב ישראליעקב ישראל ניהול  21 במאי 2020, 2:01
אימות דו שלבי
ניתן להגדיר בכל מודל, שהמאזין יעבור לאימות מספר הטלפון שלו לפני הכניסה (נגד אלה שמזייפים מספרים)
האימות מתבצע פעם אחת בכל שיחה.
בשביל להפעיל את ה"אימות דו שלבי", יש להגדיר:

check_phone_verify=yes
ההודעות הקשורות:
M1802 לצורך אימות מספר הטלפון שלכם, תקבלו כעת שיחה ממספר מסויים, יש לזכור את ארבעת הספרות האחרונות של המספר, ולהקיש אותם לאחר קבלת הצינתוק.
M1803 אנא הקישו את ארבעת הספרות האחרונות של מספר הטלפון שקיבלתם ממנו שיחה כעת
M1798 האם לא קיבלתם את שיחת האימות?
M1799 לשליחה מחודשת של שיחת אימות הקישו 1, לחזרה להקשת הארבע ספרות האחרונות הקישו 2. שימו לב, כדי לקבל את שיחת האימות עליכם לוודא שאופציית שיחה ממתינה פועלת אצלכם. ניתן לבדוק זאת בהגדרות הטלפון או לפנות לחברת התקשורת על מנת לוודא או להפעיל את האופציה.
M1804 אחד או יותר מהנתונים שהוקשו שגויים
M1805 חלה שגיאה באימות מספר הטלפון
M1806 אימות מספר הטלפון בוצע בהצלחה

 6 
יעקב ישראליעקב ישראל ניהול  21 במאי 2020, 2:05
חסימת מספרים ללא זיהוי
black_no_phone=yes
במידה והטלפון של המתקשר לא מזוהה לא יתן להכנס לשלוחה
ברירת מחדל חוזר שלב אחד אחורה
ניתן להגדיר מעבר לכל שלוחה אחרת

black_no_phone_goto=/1
(בדוגמה, מעבר לשלוחה 1)
או ניתוק

black_no_phone_goto=hangup
 10 
יעקב ישראליעקב ישראל ניהול  21 במאי 2020, 2:09
רשימה לבנה
הגדרת רשימה לבנה - מי מורשה להיכנס לשלוחה
כל מי שלא יופיע ברשימה הלבנה לא יוכל להיכנס לשלוחה

ההגדרה לשלוחה שבה רוצים להפעיל את הרשימה הלבנה

white_list=yes
פותחים בשלוחה קובץ בשם: WhiteList.ini
במידה והמספר מופיע בקובץ, אז הוא יוכל להיכנס לשלוחה.
הסבר על אופן יצירת הקובץ כאן
בקובץ רושמים את כל הרשימה של המספרים שאתם רוצים לאשר להם גישה לשלוחה
כל מספר בשורה נפרדת

ברירת מחדל, מתייחס לקובץ WhiteList.ini הנמצא בתיקית השלוחה,
אם רוצים שיתייחס לקובץ הנמצא בשלוחה אחרת, יש להגדיר

white_list_folder=/1/1
(שימו לב, חובה לשים / לפני כתיבת מיקום השלוחה)

ניתן גם להגדיר שהכניסה לשלוחה תהיה רק למי שנמצא ברשימת התפוצה של קמפיין ברירת המחדל של המערכת, זאת על ידי ההגדרה

white_list=yes
white_list_type=template_default
ניתן גם להגדיר כניסה לפי רשימות מרשימות תפוצה שונים

white_list=yes
white_list_type=template_number
white_list_template_number=default/1/2/3 וכו'
בכל מקרה בו אין גישה מודיע את הודעה M1102 "אין לכם הרשאת גישה לתיקיה זו"
ברירת מחדל בכזה מצב חוזר שלב אחד אחורה
ניתן להגדיר מעבר לשלוחה אחרת או ניתוק

white_list_error_goto=hangup
white_list_error_goto=/5/8
 8 
יעקב ישראליעקב ישראל ניהול  22 במאי 2020, 3:19
רשימה שחורה
black_list=yes
בכניסה לשלוחה המערכת בודקת האם מספר הטלפון נמצא בקובץ BlackList.ini, הסבר על אופן יצירת הקובץ כאן
ברירת מחדל, במידה והמספר בקובץ, הלקוח ישמע את הודעת M1102 "אין לכם הרשאת גישה לתיקיה זו" ויחזור שלב אחד אחרה.
כדי שיעבור לשלוחה אחרת, יש להגדיר

black_list_error_goto=/1/1
כדי שינתק את השיחה, יש להגדיר

black_list_error_goto=hangup
ברירת מחדל, מתייחס לקובץ BlackList.ini הנמצא בתיקית השלוחה,
אם רוצים שיתייחס לקובץ הנמצא בשלוחה אחרת, יש להגדיר

black_list_folder=/1/1
(שימו לב, חובה לשים / לפני כתיבת מיקום השלוחה)

 9 
יעקב ישראליעקב ישראל ניהול 22 במאי 2020, 3:24
כניסה לשלוחה ע"פ מספר ישראלי/לא ישראלי
כברירת מחדל - כניסה לכל שלוחה היא לכל מספר - ישראל או לא ישראלי, חסוי או לא חסוי.
אם רוצים שהכניסה לשלוחה תהיה למספר ישראלי בלבד, יש להכניס לשלוחה את ההגדרה הבאה:

check_phone_number=yes
הגדרה זו בודקת האם המספר ישראלי או לא ישראלי (מספר חסוי נחשב כמספר לא ישראלי).
מספר ישראלי - נכנס לשלוחה. לא ישראלי - חוזר שלב אחורה (לדוגמא - אם זו שלוחה 1/1, אז המאזין יחזור לשלוחה 1).

ניתן להגדיר שאם המספר לא ישראלי שיבקש סיסמה:

after_check_phone_error_check_password=yes
אם הוקשה סיסמה נכונה - יכנס לשלוחה. אם הסיסמה שהוקשה שגויה - חוזר שלב אחורה.

יש להגדיר את הסיסמה אותה יתבקשו להקיש:

password_after_check_phone=1234
ניתן להגדיר שאם הוקשה סיסמה שגויה, שיעבור לשלוחה אחרת (ולא שלב אחורה):

password_error_go_to_foldar=yes
על מנת להגדיר לאיזו שלוחה לעבור באם המספר לא ישראלי או לאחר הקשת סיסמה שגויה (באם הוגדר שיבקש סיסמה), יש להכניס את ההגדרה הבאה:

after_check_phone_error_go_to_foldar=/1
בדוגמא הנ"ל מוגדר שהמאזין יעבור לשלוחה 1.
כמובן שניתן להגדיר לכל שלוחה אחרת במערכת.

שמירת כל כל נסיונות הקשות הסיסמה בקובץ בתוך השלוחה:

password_after_check_phone_log_save=yes
דוגמאות:

check_phone_number=yes
after_check_phone_error_go_to_foldar=/1
יבדוק האם המספר ישראלי או לא.
באם המספר לא ישראלי - יעבור לשלוחה 1.

check_phone_number=yes
after_check_phone_error_check_password=yes
password_after_check_phone=1234
password_error_go_to_foldar=yes
after_check_phone_error_go_to_foldar=/1
password_after_check_phone_log_save=yes
יבדוק האם המספר ישראלי או לא.
באם לא, יבקש סיסמה.
הסיסמה היא 1234.
באם הוקשה סיסמה שגויה - יעבור לשלוחה 1.
נסיונות ההקשה ישמרו בקובץ לוג בתוך השלוחה.

 5 
יעקב ישראליעקב ישראל ניהול  22 במאי 2020, 3:27
השמעת מיקום השלוחה בכניסה לשלוחה
mode_say_log=yes
אם רוצים שבכל כניסה לשלוחה המערכת תשמיע את המיקום של השלוחה בה היא נמצאת (ניתן לדלג על השמיעה בהקשה על כל מקש שהוא, ומועבר לתוך השלוחה)
מיועד לצורך שמיעת לוג לדעת איפה אתה נמצא כרגע, ובעיקר בזמני הקמת מערכת, כאשר המערכת עובדת כמו שצריך מומלץ להוריד

המשך השרשור | הגדרות זיהוי הועברו לשרשור ייעודי

 9 
יעקב ישראליעקב ישראל ניהול 31 במאי 2020, 14:22
הודעות מערכת
הקלטת הודעות/העלאת הודעות/וכדו'

ההודעה הראשונה בכל סוגי השלוחות
בכל מודול ניתן להכניס קובץ בשם M0000 והוא יושמע ראשון,
(שימו לב! ניתן להכניס גם הקלטה רגילה, דהיינו עם סיומת wav וכן קובץ מוקלד, דהיינו עם סיומת tts)

איך מעלים?

בלשונית "מערכת תוכן" > "הודעות" - יש את ההודעות מערכת של השלוחה,
אנחנו צריכים לחפש את ההודעה שרלוונטית לנו לשלוחה זו - שאותה אנחנו רוצים להחליף,
בצד שמאל מופיע "איקון" להעלאה (חץ כלפי מעלה) - נקיש עליו ויפתח לנו חלונית לבחירת קובץ מהמחשב - נבחר את הקובץ הרצוי - ונעלה

ניתן גם להעלות כקובץ רגיל לשלוחה ואז ללחוץ לחצן ימני על הקובץ ואז על שנה שם ולשנות למספר הודעת המערכת (לדוגמה M0000 )

ברירת מחדל שניתן לדלג על ההודעה - על ידי הקשת כל מקש שהוא,
ובשלוחת menu - תפריט - לחיצה במהלך ההשמעה תגיב כמו ההקשה במהלך התפריט הראשי.
באם רוצים להגדיר שהודעת M0000 תושמע עד הסוף ללא אפשרות דילוג, כך שהמאזין ישמע את כולה (לדוגמה בהודעה חשובה שלא רוצים שהמאזינים ידלגו עליה) יש להגדיר:

play_and_return=play_all
להשמיע את קובץ M0000 רק פעם אחת בכל פעם שמתקשר למערכת:

say_first_one_time=yes
ניתן לשים כמה קבצים שרוצים, כאשר כל קובץ יכול להיות אחת מ3 האפשרויות

קובץ wav
קובץ ogg
קובץ tts

בחלק מהודעות המערכת ניתן להוסיף הודעת המשך (לדוגמה כשיש הודעת ברוכים הבאים ורוצים רק להוסיף הודעה בלי לשנות את הודעת הברוכים הבאים) ניתן לעשות זאת על ידי הוספת -1 לשם ההודעה כמו פה (הקבצים חייבים להיות בצורה עוקבת)
M0000
M0000-1
M0000-2
M0000-3
וכו'

 6 
יעקב ישראליעקב ישראל ניהול  31 במאי 2020, 15:03
הגדרת הפנית שיחה לשלוחה פנימית לפי מספר מחייג או מחויג
ראה כאן

 6 
יעקב ישראליעקב ישראל ניהול  31 במאי 2020, 15:11
דוחות מונה כניסה לכל שלוחה /פירוט
ראה כאן

 5 
יעקב ישראליעקב ישראל ניהול  31 במאי 2020, 15:19
לוג כניסה ויציאה מכל השלוחות בקובץ csv (עבור אקסל וכד')
ראה כאן

 9 
יעקב ישראליעקב ישראל ניהול  31 במאי 2020, 15:21
שליחת סמס ללקוח בכניסה לשלוחה
תוכלו למצוא הגדרה זו כאן

 5 
Eeliyahu ניהול  6 באוק׳ 2020, 14:39
הגבלת כמות כניסות לשלוחה בצורה כללית
תוכלו למצוא הגדרה זו כאן

 8 
ממנחם ימות המשיח  4 במרץ 2021, 1:31
הוספת ניקוד ל points_total בהתאם לאורך ההאזנה במערכת
תוכלו למצוא את הגדרה זו כאן

 16 
ששמחה - זו הסיסמא  20 בספט׳ 2021, 14:40
פג תוקף לכל הגדרה במערכת.
תוכלו למצוא את הגדרה זו כאן

 4 
ששמחה - זו הסיסמא  20 בספט׳ 2021, 14:43
access_filter - אקסס פילטר כהטמעה בכל מודול
תוכלו למצוא את הגדרה זו כאן

קישורים לפוסטים נוספים שהיו בשרשור זה והופרדו
שליחת סמס (SMS) ללקוח בכניסה לשלוחה

הגבלת כמות כניסות לשלוחה בצורה כללית

אימות מול שרת API בכל כניסה לשלוחה האם הלקוח מורשה כניסה

שליחת הודעה בטלגרם על כניסה לשלוחה

השמעת הודעות קמפיין בכניסה לשלוחה

 3 

